<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Vueé¡µé¢ä¼˜åŒ–</title>
    <url>/2021/04/01/Vue%E9%A1%B5%E9%9D%A2%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h4 id="é¡µé¢è½½å…¥è¿›åº¦æ¡"><a href="#é¡µé¢è½½å…¥è¿›åº¦æ¡" class="headerlink" title="é¡µé¢è½½å…¥è¿›åº¦æ¡"></a>é¡µé¢è½½å…¥è¿›åº¦æ¡</h4><ul>
<li>nprogress å®‰è£… <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">npm install --save nprogress æˆ– yarn add nprogress</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨ :<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import NProgress from &#39;nprogress&#39; &#x2F;&#x2F; å¼•å…¥nprogressæ’ä»¶</span><br><span class="line">import &#39;nprogress&#x2F;nprogress.css&#39;  &#x2F;&#x2F; è¿™ä¸ªnprogressæ ·å¼å¿…é¡»å¼•å…¥</span><br><span class="line">router.beforeEach(() &#x3D;&gt; &#123;</span><br><span class="line">  NProgress.start();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.afterEach(() &#x3D;&gt; &#123;</span><br><span class="line">  NProgress.done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<span id="more"></span></li>
</ul>
<h4 id="æ»šåŠ¨æ¡ç¾åŒ–"><a href="#æ»šåŠ¨æ¡ç¾åŒ–" class="headerlink" title="æ»šåŠ¨æ¡ç¾åŒ–"></a>æ»šåŠ¨æ¡ç¾åŒ–</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">  width: 6px;</span><br><span class="line">  height: 6px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">  width: 6px;</span><br><span class="line">  background: rgba(#101F1C, 0.1);</span><br><span class="line">  -webkit-border-radius: 2em;</span><br><span class="line">  -moz-border-radius: 2em;</span><br><span class="line">  border-radius: 2em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">  background-color: rgba(#101F1C, 0.5);</span><br><span class="line">  background-clip: padding-box;</span><br><span class="line">  min-height: 28px;</span><br><span class="line">  -webkit-border-radius: 2em;</span><br><span class="line">  -moz-border-radius: 2em;</span><br><span class="line">  border-radius: 2em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">::-webkit-scrollbar-thumb:hover &#123;</span><br><span class="line">  background-color: rgba(#101F1C, 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç§»åŠ¨ç«¯ï¼ˆé«˜åº¦ï¼‰"><a href="#ç§»åŠ¨ç«¯ï¼ˆé«˜åº¦ï¼‰" class="headerlink" title="ç§»åŠ¨ç«¯ï¼ˆé«˜åº¦ï¼‰"></a>ç§»åŠ¨ç«¯ï¼ˆé«˜åº¦ï¼‰</h4><ul>
<li>100vh === è§†å£é«˜åº¦ ??? å¹¶ä¸æ˜¯ï¼Œ å®é™…ä¸Šåœ¨ç§»åŠ¨ç«¯ 100vh === è§†å£é«˜åº¦ + æµè§ˆå™¨å·¥å…·æ ï¼ˆåœ°å€æ ç­‰ç­‰ï¼‰çš„é«˜åº¦</li>
<li>è§£å†³æ–¹æ¡ˆï¼š<ul>
<li>å®‰è£… vh-check <code>npm install vh-check --save</code><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> vhCheck <span class="keyword">from</span> <span class="string">&#x27;vh-check&#x27;</span>;</span><br><span class="line">vhCheck(<span class="string">&#x27;browser-address-bar&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
<li>å®šä¹‰ CSS Mixin<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">@mixin <span class="function"><span class="title">vh</span>(<span class="params">$height: 100vh</span>)</span> &#123;</span><br><span class="line">  height: $height;</span><br><span class="line">  height: calc(#&#123;$height&#125; - var(--browser-address-bar, 0px));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="å…¨å±€æ ·å¼"><a href="#å…¨å±€æ ·å¼" class="headerlink" title="å…¨å±€æ ·å¼"></a>å…¨å±€æ ·å¼</h4><ul>
<li>variable.scss: å…¨å±€å˜é‡ç®¡ç† </li>
<li>mixins.scss: å…¨å±€ Mixins ç®¡ç† </li>
<li>global.scss: å…¨å±€æ ·å¼</li>
<li>å…¶ä¸­ variable.scss å’Œ mixins.scss ä¼šä¼˜å…ˆäº global.css åŠ è½½<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  css: &#123;</span><br><span class="line">    loaderOptions: &#123;</span><br><span class="line">      sass: &#123;</span><br><span class="line">        prependData: <span class="string">`</span></span><br><span class="line"><span class="string">        @import &#x27;@/styles/variable.scss&#x27;;</span></span><br><span class="line"><span class="string">        @import &#x27;@/styles/mixins.scss&#x27;;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="ç»„ä»¶åº“"><a href="#ç»„ä»¶åº“" class="headerlink" title="ç»„ä»¶åº“"></a>ç»„ä»¶åº“</h4><ul>
<li>æŒ‰éœ€åŠ è½½ Ant Design Vue çš„ç»„ä»¶æ ·å¼<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// babel.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  presets: [<span class="string">&#x27;@vue/app&#x27;</span>],</span><br><span class="line">  <span class="comment">// presets: [&#x27;@vue/cli-plugin-babel/preset&#x27;],</span></span><br><span class="line">  plugins: [[<span class="string">&#x27;import&#x27;</span>, &#123; <span class="attr">libraryName</span>: <span class="string">&#x27;ant-design-vue&#x27;</span>, <span class="attr">libraryDirectory</span>: <span class="string">&#x27;es&#x27;</span>, <span class="attr">style</span>: <span class="literal">true</span> &#125;]]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>å»æ‰æ— ç”¨çš„å›¾æ ‡<ul>
<li>åˆ›å»ºicons.js æ–‡ä»¶æ¥ç®¡ç†Ant Design Vueå›¾æ ‡<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; @&#x2F;src&#x2F;assets&#x2F;icons.js</span><br><span class="line">export &#123; default as LoadingOutline &#125; from &#39;@ant-design&#x2F;icons&#x2F;lib&#x2F;outline&#x2F;LoadingOutline&#39;;</span><br></pre></td></tr></table></figure></li>
<li>é…ç½®vue.config.js å¼•å…¥æ–‡ä»¶<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;@ant-design/icons/lib/dist$&#x27;</span>: path.resolve(__dirname, <span class="string">&#x27;./src/assets/icons.js&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>Moment å¤šå›½è¯­, åªä¿ç•™ zh-cn è¯­è¨€åŒ…<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config</span><br><span class="line">      .plugin(<span class="string">&#x27;ContextReplacementPlugin&#x27;</span>)</span><br><span class="line">      .use(webpack.ContextReplacementPlugin, [<span class="regexp">/moment[/]locale$/</span>, <span class="regexp">/zh-cn/</span>]);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="icon-ï¼ˆé›ªç¢§å›¾ï¼‰"><a href="#icon-ï¼ˆé›ªç¢§å›¾ï¼‰" class="headerlink" title="icon ï¼ˆé›ªç¢§å›¾ï¼‰"></a>icon ï¼ˆé›ªç¢§å›¾ï¼‰</h4><ul>
<li><p>è‡ªåŠ¨æ³¨å†Œ Svg å›¾æ ‡ï¼Œé¦–å…ˆéœ€è¦å¯¹ @/assets/icons æ–‡ä»¶å¤¹ä¸‹çš„ svg å›¾æ ‡è¿›è¡Œè‡ªåŠ¨æ³¨å†Œï¼Œéœ€è¦å¯¹ webpack å’Œ svg-sprite-loader è¿›è¡Œäº†ç›¸å…³è®¾ç½®ï¼Œæ–‡ä»¶å…¨éƒ¨æ‰“åŒ…æˆ svg-spriteã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">&#x27;svg&#x27;</span>)</span><br><span class="line">      .exclude.add(resolve(<span class="string">&#x27;src/assets/icons&#x27;</span>))</span><br><span class="line">      .end();</span><br><span class="line"></span><br><span class="line">    config.module</span><br><span class="line">      .rule(<span class="string">&#x27;icons&#x27;</span>)</span><br><span class="line">      .test(<span class="regexp">/.svg$/</span>)</span><br><span class="line">      .include.add(resolve(<span class="string">&#x27;src/assets/icons&#x27;</span>))</span><br><span class="line">      .end()</span><br><span class="line">      .use(<span class="string">&#x27;svg-sprite-loader&#x27;</span>)</span><br><span class="line">      .loader(<span class="string">&#x27;svg-sprite-loader&#x27;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å†™ä¸€ä¸ªå…¨å±€ç”¨çš„ Vue ç»„ä»¶ <m-svg />:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// @/components/m-svg/index.js</span></span><br><span class="line"><span class="keyword">const</span> requireAll = <span class="function">(<span class="params">requireContext</span>) =&gt;</span> requireContext.keys().map(requireContext);</span><br><span class="line"><span class="keyword">const</span> req = <span class="built_in">require</span>.context(<span class="string">&#x27;@/assets/icons&#x27;</span>, <span class="literal">false</span>, <span class="regexp">/.svg$/</span>);</span><br><span class="line">requireAll(req);</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">@/components/m-svg/index.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;svg <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;mw-svg&quot;</span> aria-hidden=<span class="string">&quot;true&quot;</span>&gt;</span><br><span class="line">    &lt;use :xlink:href=<span class="string">&quot;iconName&quot;</span>&gt;&lt;/use&gt;</span><br><span class="line">  &lt;/svg&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">&#x27;m-svg&#x27;</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">default</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="function"><span class="title">iconName</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`#<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=<span class="string">&quot;scss&quot;</span> scoped&gt;</span><br><span class="line">.mw-svg &#123;</span><br><span class="line">  width: <span class="number">1.</span>4em;</span><br><span class="line">  height: <span class="number">1.</span>4em;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  line-height: 1em;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>  å‚æ•° name</p>
<ul>
<li>ç±»å‹ï¼šString</li>
<li>é»˜è®¤å€¼ï¼šnull</li>
<li>è¯´æ˜ï¼šæ”¾ç½®åœ¨ @/assets/icons æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å</li>
</ul>
<p>  æ ·å¼</p>
<ul>
<li>å›¾æ ‡çš„å¤§å°å¯ä»¥é€šè¿‡ width + height å±æ€§æ”¹å˜ã€‚</li>
<li>é€šè¿‡æ”¹å˜ font-size å±æ€§æ”¹å˜ï¼Œå®½é«˜ = font-zise * 1.4</li>
</ul>
<h4 id="è·¨åŸŸé—®é¢˜"><a href="#è·¨åŸŸé—®é¢˜" class="headerlink" title="è·¨åŸŸé—®é¢˜"></a>è·¨åŸŸé—®é¢˜</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; vue.config.js</span><br><span class="line">devServer: &#123;</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    &#39;&#x2F;api&#39;: &#123;</span><br><span class="line">      target: &#39;http:&#x2F;&#x2F;47.100.186.132&#x2F;your-path&#x2F;api&#39;,</span><br><span class="line">      ws: true,</span><br><span class="line">      changeOrigin: true,</span><br><span class="line">      pathRewrite: &#123;</span><br><span class="line">        &#39;^&#x2F;api&#39;: &#39;&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h4><ul>
<li><p>Layout</p>
<ul>
<li><p>frameInï¼šåŸºäº BasicLayoutï¼Œé€šå¸¸éœ€è¦ç™»å½•æˆ–æƒé™è®¤è¯çš„è·¯ç”±ã€‚</p>
</li>
<li><p>frameOutï¼šä¸éœ€è¦åŠ¨æ€åˆ¤æ–­æƒé™çš„è·¯ç”±ï¼Œå¦‚ç™»å½•é¡µæˆ–é€šç”¨é¡µé¢ã€‚</p>
</li>
<li><p>errorPageï¼šä¾‹å¦‚404ã€‚</p>
</li>
</ul>
</li>
<li><p>æƒé™éªŒè¯, é€šè¿‡è·å–å½“å‰ç”¨æˆ·çš„æƒé™å»æ¯”å¯¹è·¯ç”±è¡¨ï¼Œç”Ÿæˆå½“å‰ç”¨æˆ·å…·çš„æƒé™å¯è®¿é—®çš„è·¯ç”±è¡¨ï¼Œé€šè¿‡ router.addRoutes åŠ¨æ€æŒ‚è½½åˆ° router ä¸Šã€‚</p>
<ul>
<li>åˆ¤æ–­é¡µé¢æ˜¯å¦éœ€è¦ç™»é™†çŠ¶æ€ï¼Œéœ€è¦åˆ™è·³è½¬åˆ° /user/login</li>
<li>æœ¬åœ°å­˜å‚¨ä¸­ä¸å­˜åœ¨ token åˆ™è·³è½¬åˆ° /user/login</li>
<li>å¦‚æœå­˜åœ¨ tokenï¼Œç”¨æˆ·ä¿¡æ¯ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨è°ƒç”¨ vuex â€˜/system/user/getInfoâ€™</li>
<li>åœ¨è·¯ç”±ä¸­ï¼Œé›†æˆäº†æƒé™éªŒè¯çš„åŠŸèƒ½ï¼Œéœ€è¦ä¸ºé¡µé¢å¢åŠ æƒé™æ—¶ï¼Œåœ¨ meta ä¸‹æ·»åŠ ç›¸åº”çš„ key:<ul>
<li>auth<ul>
<li>ç±»å‹ï¼šBoolean</li>
<li>è¯´æ˜ï¼šå½“ auth ä¸º true æ—¶ï¼Œæ­¤é¡µé¢éœ€è¦è¿›è¡Œç™»é™†æƒé™éªŒè¯ï¼Œåªé’ˆå¯¹ frameIn è·¯ç”±æœ‰æ•ˆã€‚</li>
</ul>
</li>
<li>permissions<ul>
<li>ç±»å‹ï¼šObject</li>
<li>è¯´æ˜ï¼špermissions æ¯ä¸€ä¸ª key å¯¹åº”æƒé™åŠŸèƒ½çš„éªŒè¯ï¼Œå½“ key çš„å€¼ä¸º true æ—¶ï¼Œä»£è¡¨å…·æœ‰æƒé™ï¼Œè‹¥ key ä¸º falseï¼Œé…åˆ v-permission æŒ‡ä»¤ï¼Œå¯ä»¥éšè—ç›¸åº”çš„ DOMã€‚<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> storage <span class="keyword">from</span> <span class="string">&#x27;store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> util <span class="keyword">from</span> <span class="string">&#x27;@/libs/utils&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›åº¦æ¡</span></span><br><span class="line"><span class="keyword">import</span> NProgress <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;nprogress/nprogress.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> loginRoutePath = <span class="string">&#x27;/user/login&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> defaultRoutePath = <span class="string">&#x27;/home&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·¯ç”±æ‹¦æˆª</span></span><br><span class="line"><span class="comment"> * æƒé™éªŒè¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">router.beforeEach(<span class="keyword">async</span> (to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  <span class="comment">// è¿›åº¦æ¡</span></span><br><span class="line">  NProgress.start();</span><br><span class="line">  <span class="comment">// éªŒè¯å½“å‰è·¯ç”±æ‰€æœ‰çš„åŒ¹é…ä¸­æ˜¯å¦éœ€è¦æœ‰ç™»å½•éªŒè¯çš„</span></span><br><span class="line">  <span class="keyword">if</span> (to.matched.some(<span class="function">(<span class="params">r</span>) =&gt;</span> r.meta.auth)) &#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦å­˜æœ‰tokenä½œä¸ºéªŒè¯æ˜¯å¦ç™»å½•çš„æ¡ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> token = storage.get(<span class="string">&#x27;ACCESS_TOKEN&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (token &amp;&amp; token !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">// æ˜¯å¦å¤„äºç™»å½•é¡µé¢</span></span><br><span class="line">      <span class="keyword">if</span> (to.path === loginRoutePath) &#123;</span><br><span class="line">        next(&#123; <span class="attr">path</span>: defaultRoutePath &#125;);</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢æ˜¯å¦å‚¨å­˜ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">Object</span>.keys(store.state.system.user.info).length === <span class="number">0</span>) &#123;</span><br><span class="line">        store.dispatch(<span class="string">&#x27;system/user/getInfo&#x27;</span>).then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          next();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æ²¡æœ‰ç™»å½•çš„æ—¶å€™è·³è½¬åˆ°ç™»å½•ç•Œé¢</span></span><br><span class="line">      <span class="comment">// æºå¸¦ä¸Šç™»é™†æˆåŠŸä¹‹åéœ€è¦è·³è½¬çš„é¡µé¢å®Œæ•´è·¯å¾„</span></span><br><span class="line">      next(&#123;</span><br><span class="line">        name: <span class="string">&#x27;Login&#x27;</span>,</span><br><span class="line">        query: &#123;</span><br><span class="line">          redirect: to.fullPath,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">      NProgress.done();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦èº«ä»½æ ¡éªŒ ç›´æ¥é€šè¿‡</span></span><br><span class="line">    next();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è¿›åº¦æ¡</span></span><br><span class="line">  NProgress.done();</span><br><span class="line">  util.title(to.meta.title);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="æ„å»ºä¼˜åŒ–"><a href="#æ„å»ºä¼˜åŒ–" class="headerlink" title="æ„å»ºä¼˜åŒ–"></a>æ„å»ºä¼˜åŒ–</h4><ul>
<li>åŒ…åˆ†æå·¥å…·<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> WebpackBundleAnalyzer = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.env.use_analyzer) &#123;</span><br><span class="line">      config</span><br><span class="line">        .plugin(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>)</span><br><span class="line">        .use(WebpackBundleAnalyzer.BundleAnalyzerPlugin);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>å¼€å¯ Gzip<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">chainWebpack: <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">  config</span><br><span class="line">    .plugin(<span class="string">&#x27;CompressionPlugin&#x27;</span>)</span><br><span class="line">    .use(CompressionPlugin, []);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
<li>è·¯ç”±æ‡’åŠ è½½<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">  component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(</span><br><span class="line">    <span class="comment">/* webpackChunkName: &quot;home&quot; */</span> <span class="string">&#x27;@/views/home/index.vue&#x27;</span></span><br><span class="line">  ),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰æœˆçš„è¯—</title>
    <url>/2021/03/23/%E4%B8%89%E6%9C%88%E7%9A%84%E8%AF%97/</url>
    <content><![CDATA[<p>å­¤å±±å¯ºåŒ—è´¾äº­è¥¿ï¼Œæ°´é¢åˆå¹³äº‘è„šä½ã€‚</p>
<p>å‡ å¤„æ—©èºäº‰æš–æ ‘ï¼Œè°å®¶æ–°ç‡•å•„æ˜¥æ³¥ã€‚</p>
<p>ä¹±èŠ±æ¸æ¬²è¿·äººçœ¼ï¼Œæµ…è‰æ‰èƒ½æ²¡é©¬è¹„ã€‚</p>
<p>æœ€çˆ±æ¹–ä¸œè¡Œä¸è¶³ï¼Œç»¿æ¨é˜´é‡Œç™½æ²™å ¤ã€‚</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€”â€”å”Â·ç™½å±…æ˜“ã€Šé’±å¡˜æ¹–æ˜¥è¡Œã€‹</p>
<span id="more"></span>
<br />



<p>é—»é“æ˜¥è¿˜æœªç›¸è¯†ï¼Œèµ°å‚å¯’æ¢…è®¿æ¶ˆæ¯ã€‚</p>
<p>æ˜¨å¤œä¸œé£å…¥æ­¦é˜³ï¼Œé™Œå¤´æ¨æŸ³é»„é‡‘è‰²ã€‚</p>
<p>ç¢§æ°´æµ©æµ©äº‘èŒ«èŒ«ï¼Œç¾äººä¸æ¥ç©ºæ–­è‚ ã€‚</p>
<p>é¢„æ‹‚é’å±±ä¸€ç‰‡çŸ³ï¼Œä¸å›è¿æ—¥é†‰å£¶è§ã€‚</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€”â€”å”Â·æç™½ã€Šæ—©æ˜¥å¯„ç‹æ±‰é˜³ ã€‹</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
        <tag>è¯—å¥</tag>
      </tags>
  </entry>
  <entry>
    <title>å·¥å…· &amp; ç½‘ç«™</title>
    <url>/2021/03/31/%E5%B7%A5%E5%85%B7%20&amp;%20%E7%BD%91%E7%AB%99/</url>
    <content><![CDATA[<h4 id="å·¥å…·é›†"><a href="#å·¥å…·é›†" class="headerlink" title="å·¥å…·é›†"></a>å·¥å…·é›†</h4><ul>
<li><p>codeIf</p>
<ul>
<li>å˜é‡å‘½å<strong>æ™ºèƒ½æ¨è</strong>ï¼ˆæ”¯æŒä¸­æ–‡ï¼‰</li>
<li><a href="https://unbug.github.io/codelf/">Githubåœ°å€</a><span id="more"></span></li>
</ul>
</li>
<li><p>regexr</p>
<ul>
<li><strong>æ­£åˆ™è¡¨è¾¾å¼</strong>éªŒè¯åŒ¹é…</li>
<li><a href="https://regexr.com/">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>any-rule</p>
<ul>
<li><strong>æ­£åˆ™è¡¨è¾¾å¼åº“</strong></li>
<li>å¯ä»¥ç›´æ¥å®‰è£…åˆ°Vscode</li>
<li><a href="https://github.com/any86/any-rule">Githubåœ°å€</a></li>
</ul>
</li>
<li><p>CSS Sprites Generato</p>
<ul>
<li>å¤šå¼ å›¾ç‰‡åˆæˆé›ªç¢§å›¾ï¼Œå¹¶ç”Ÿæˆå¯¹åº” css</li>
<li><a href="https://www.toptal.com/developers/css/sprite-generator">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>gitignore</p>
<ul>
<li>æ ¹æ®é€‰æ‹©ä¼šå»ç”Ÿæˆ .gitignore æ–‡ä»¶</li>
<li><a href="https://www.gitignore.io/">å®˜ç½‘</a></li>
</ul>
</li>
</ul>
<h4 id="ç½‘ç«™é›†"><a href="#ç½‘ç«™é›†" class="headerlink" title="ç½‘ç«™é›†"></a>ç½‘ç«™é›†</h4><ul>
<li><p>codesandbox</p>
<ul>
<li>åœ¨çº¿ä»£ç ç¼–è¾‘å™¨</li>
<li><a href="https://codesandbox.io/">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>docschina</p>
<ul>
<li>å°è±¡ä¸­æ–‡ï¼Œä¸º Web å‰ç«¯å¼€å‘äººå‘˜æä¾›ä¼˜è´¨ä¸­æ–‡æ–‡æ¡£</li>
<li><a href="https://www.docschina.org/">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>mdnice</p>
<ul>
<li>ä½¿ markdown è¯­æ³•æ›´åŠ ç¾è§‚</li>
<li><a href="https://mdnice.com/">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>Am I Responsive?</p>
<ul>
<li>æ£€æŸ¥ç½‘ç«™åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„å¤–è§‚</li>
<li><a href="http://ami.responsivedesign.is/">å®˜ç½‘</a></li>
</ul>
</li>
<li><p>jsrun.net / JSFiddle / CodePen</p>
<ul>
<li>åœ¨çº¿IDEæœåŠ¡</li>
<li><a href="https://jsrun.net/">jsrunå®˜ç½‘</a></li>
<li><a href="https://jsfiddle.net/">JSFiddleå®˜ç½‘</a></li>
<li><a href="https://codepen.io/">CodePenå®˜ç½‘</a></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>å·¥å…·</tag>
        <tag>ç½‘ç«™</tag>
      </tags>
  </entry>
  <entry>
    <title>çŸ¥ç™½å®ˆé»‘</title>
    <url>/2021/03/24/%E7%9F%A5%E7%99%BD%E5%AE%88%E9%BB%91/</url>
    <content><![CDATA[<h2 id="çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›"><a href="#çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›" class="headerlink" title="çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›"></a>çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›</h2><span id="more"></span>

<h4 id="çŸ¥å…¶é›„ï¼Œå®ˆå…¶é›Œï¼Œä¸ºå¤©ä¸‹è°¿ï¼›ä¸ºå¤©ä¸‹è°¿ï¼Œå¸¸å¾·ä¸ç¦»ï¼Œå¤å½’äºå©´å„¿ã€‚çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›ä¸ºå¤©ä¸‹å¼ï¼Œå¸¸å¾·ä¸å¿’ï¼Œå¤å½’æ–¼æ— æã€‚çŸ¥å…¶è£ï¼Œå®ˆå…¶è¾±ï¼Œä¸ºå¤©ä¸‹è°·ï¼›ä¸ºå¤©ä¸‹è°·ï¼Œå¸¸å¾·ä¹ƒè¶³ï¼Œå¤å½’äºæœ´ã€‚ã€Šé“å¾·ç»Â·ç¬¬äºŒåå…«ç« ã€‹"><a href="#çŸ¥å…¶é›„ï¼Œå®ˆå…¶é›Œï¼Œä¸ºå¤©ä¸‹è°¿ï¼›ä¸ºå¤©ä¸‹è°¿ï¼Œå¸¸å¾·ä¸ç¦»ï¼Œå¤å½’äºå©´å„¿ã€‚çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›ä¸ºå¤©ä¸‹å¼ï¼Œå¸¸å¾·ä¸å¿’ï¼Œå¤å½’æ–¼æ— æã€‚çŸ¥å…¶è£ï¼Œå®ˆå…¶è¾±ï¼Œä¸ºå¤©ä¸‹è°·ï¼›ä¸ºå¤©ä¸‹è°·ï¼Œå¸¸å¾·ä¹ƒè¶³ï¼Œå¤å½’äºæœ´ã€‚ã€Šé“å¾·ç»Â·ç¬¬äºŒåå…«ç« ã€‹" class="headerlink" title="çŸ¥å…¶é›„ï¼Œå®ˆå…¶é›Œï¼Œä¸ºå¤©ä¸‹è°¿ï¼›ä¸ºå¤©ä¸‹è°¿ï¼Œå¸¸å¾·ä¸ç¦»ï¼Œå¤å½’äºå©´å„¿ã€‚çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›ä¸ºå¤©ä¸‹å¼ï¼Œå¸¸å¾·ä¸å¿’ï¼Œå¤å½’æ–¼æ— æã€‚çŸ¥å…¶è£ï¼Œå®ˆå…¶è¾±ï¼Œä¸ºå¤©ä¸‹è°·ï¼›ä¸ºå¤©ä¸‹è°·ï¼Œå¸¸å¾·ä¹ƒè¶³ï¼Œå¤å½’äºæœ´ã€‚ã€Šé“å¾·ç»Â·ç¬¬äºŒåå…«ç« ã€‹"></a>çŸ¥å…¶é›„ï¼Œå®ˆå…¶é›Œï¼Œä¸ºå¤©ä¸‹è°¿ï¼›ä¸ºå¤©ä¸‹è°¿ï¼Œå¸¸å¾·ä¸ç¦»ï¼Œå¤å½’äºå©´å„¿ã€‚çŸ¥å…¶ç™½ï¼Œå®ˆå…¶é»‘ï¼Œä¸ºå¤©ä¸‹å¼ï¼›ä¸ºå¤©ä¸‹å¼ï¼Œå¸¸å¾·ä¸å¿’ï¼Œå¤å½’æ–¼æ— æã€‚çŸ¥å…¶è£ï¼Œå®ˆå…¶è¾±ï¼Œä¸ºå¤©ä¸‹è°·ï¼›ä¸ºå¤©ä¸‹è°·ï¼Œå¸¸å¾·ä¹ƒè¶³ï¼Œå¤å½’äºæœ´ã€‚ã€Šé“å¾·ç»Â·ç¬¬äºŒåå…«ç« ã€‹</h4>]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½•vueå’ŒD3å¤„ç†ç©¿é€å›¾</title>
    <url>/2021/04/06/%E8%AE%B0%E5%BD%95vue%E5%92%8CD3%E5%A4%84%E7%90%86%E7%A9%BF%E9%80%8F%E5%9B%BE/</url>
    <content><![CDATA[<h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><ul>
<li>å›¢é˜Ÿéœ€è¦ä½¿ç”¨å±•ç¤ºä¸€ä¸ªç©¿é€å›¾ï¼Œæ ¹æ®éœ€æ±‚é€‰æ‹©ä½¿ç”¨D3æ­é…vueæ¥å®ç°ã€‚</li>
<li>æƒ³è¦å¿«é€Ÿæ­å‡ºä¸€ä¸ªæ¨¡æ¿ï¼Œä»¥ç¡®å®šæ˜¯å¦å¯ä»¥ä½¿ç”¨ã€‚</li>
<li>æœ‰å¦å­˜ä¸º(å›¾ç‰‡)çš„éœ€æ±‚</li>
</ul>
<h4 id="ç‰ˆæœ¬é€‰æ‹©"><a href="#ç‰ˆæœ¬é€‰æ‹©" class="headerlink" title="ç‰ˆæœ¬é€‰æ‹©"></a>ç‰ˆæœ¬é€‰æ‹©</h4><ul>
<li>é¡¹ç›®ä½¿ç”¨vue2.0çš„ç‰ˆæœ¬ï¼Œæœ¬èº«é¡¹ç›®æ˜¯åŸºäº2.0, æœªåšå‡çº§ã€‚</li>
<li>é€‰æ‹©D3çš„æ—¶å€™ï¼Œå°±é‡åˆ°äº†å‘ï¼Œç°åœ¨æœ€æ–°çš„ç‰ˆæœ¬æ˜¯6.xx, è€Œä¹‹å‰çœ‹çš„ä¸€äº›demo åŸºæœ¬ä¸Šéƒ½æ˜¯4.0 å·¦å³çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æ—¶å€™ï¼Œç‰ˆæœ¬ä¸åŒï¼Œè°ƒç”¨Apiçš„æ–¹å¼ä¹Ÿä¸ä¸€æ ·ï¼Œå¯¼è‡´å¾ˆå¤šæŠ¥é”™ã€‚æœ€åé€‰æ‹©äº†5.16.0 , 5.xxçš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚</li>
</ul>
<span id="more"></span>

<h4 id="Apiçš„è°ƒç”¨"><a href="#Apiçš„è°ƒç”¨" class="headerlink" title="Apiçš„è°ƒç”¨"></a>Apiçš„è°ƒç”¨</h4><ul>
<li><a href="https://github.com/xswei/d3js_doc/blob/master/API_Reference/API.md/">Apiæ–‡æ¡£</a></li>
<li>å¸¸ç”¨çš„Apiï¼š<ul>
<li>d3.select â€“ ä»æ–‡æ¡£ä¸­é€‰å–ä¸€ä¸ªå…ƒç´ .</li>
<li>d3.zoom â€“ åˆ›å»ºä¸€ä¸ªç¼©æ”¾äº¤äº’</li>
<li>zoom.scaleExtent â€“ è®¾ç½®å¯ç¼©æ”¾ç³»æ•°å¤§å°.</li>
<li>d3.hierarchy â€“ ä»ç»™å®šçš„å±‚æ¬¡ç»“æ„æ•°æ®æ„é€ ä¸€ä¸ªæ ¹èŠ‚ç‚¹å¹¶ä¸ºå„ä¸ªèŠ‚ç‚¹æŒ‡å®šæ·±åº¦ç­‰å±æ€§.</li>
<li>transition.remove â€“ åœ¨è¿‡æ¸¡ç»“æŸåç§»é™¤é€‰ä¸­çš„å…ƒç´ .</li>
<li>transform.translate â€“ æ ¹æ®æŒ‡å®šçš„å€¼å¹³ç§»å½“å‰åæ ‡å˜æ¢.</li>
<li>selection.selectAll -ä»æ¯ä¸ªè¢«é€‰ä¸­çš„å…ƒç´ ä¸­é€‰æ‹©å¤šä¸ªåä»£å…ƒç´ .</li>
<li>tree.nodeSize â€“ è®¾ç½®èŠ‚ç‚¹å°ºå¯¸.</li>
<li>selection.data â€“ å°†å…ƒç´ ä¸æ•°æ®ç»‘å®š.</li>
<li>selection.enter â€“ è·å–éœ€è¦æ’å…¥çš„é€‰æ‹©é›†(æ•°æ®ä¸ªæ•°å¤§äºå…ƒç´ ä¸ªæ•°)çš„å ä½ç¬¦.</li>
<li>selection.exit â€“ è·å–å¤šä½™çš„å…ƒç´ çš„é€‰æ‹©é›†(æ•°æ®ä¸ªæ•°å°äºå…ƒç´ ä¸ªæ•°).</li>
<li>selection.on â€“ æ·»åŠ æˆ–ç§»é™¤äº‹ä»¶ç›‘å¬å™¨.</li>
<li>selection.attr â€“ è®¾ç½®æˆ–è·å–å±æ€§.</li>
<li>selection.style â€“ è·å–æˆ–è®¾ç½®æ ·å¼å±æ€§.</li>
<li>selection.text â€“ è®¾ç½®æˆ–è·å–æ–‡æœ¬å†…å®¹.</li>
<li>selection.append â€“ åˆ›å»ºã€æ·»åŠ å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å…ƒç´ .</li>
<li>selection.insert â€“ åˆ›å»ºã€æ’å…¥å¹¶è¿”å›ä¸€ä¸ªæ–°çš„å…ƒç´ .</li>
<li>selection.remove â€“ ä»æ–‡æ¡£ä¸­ç§»é™¤å…ƒç´ .</li>
</ul>
</li>
</ul>
<h4 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h4><ul>
<li>D3ç”¨æ¥è°ƒè¯•è°ƒè¯•å¾ˆæ–¹ä¾¿ï¼Œç”Ÿæˆçš„è·¯å¾„åœ¨domå…ƒç´ ä¸Šå±•ç¤ºçš„å¾ˆæ¸…æ™°ã€‚</li>
<li>å¦å­˜ä¸ºå›¾ç‰‡ï¼š<ul>
<li>SVG â€”&gt;  png  éœ€è¦canvas åœ¨ä¸­é—´è¿›è¡Œè½¬åŒ–</li>
<li>ä½¿ç”¨save-svg-as-png æ’ä»¶</li>
<li>åœ¨ä¿å­˜å›¾ç‰‡çš„æ—¶å€™ï¼Œsvgçš„å…ƒç´ æ˜¯å¤§äºå±å¹•èŒƒå›´çš„ï¼Œè¿™æ ·çš„è¯é€šè¿‡canvasç»˜åˆ¶çš„å›¾ç‰‡ï¼Œåªä¼šå±•ç¤ºå±å¹•æ˜¾ç¤ºçš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>é€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/SVGGraphicsElement/getBBox">getBBox()</a>æ–¹æ³•ï¼Œè·å–æœ€å°çŸ©å½¢çš„åæ ‡</li>
<li>ä¿å­˜çš„æ—¶å€™éœ€è¦å±•å¼€æ‰€æœ‰èŠ‚ç‚¹</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>vue</tag>
        <tag>D3</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScripté¢è¯•çŸ¥è¯†ç‚¹</title>
    <url>/2021/04/07/JavaScript%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
    <content><![CDATA[<h4 id="HTML-amp-CSS"><a href="#HTML-amp-CSS" class="headerlink" title="HTML&amp;CSS"></a>HTML&amp;CSS</h4><ul>
<li>æµè§ˆå™¨å†…æ ¸</li>
<li>ç›’æ¨¡å‹ã€flexå¸ƒå±€ã€ä¸¤/ä¸‰æ å¸ƒå±€ã€æ°´å¹³/å‚ç›´å±…ä¸­ï¼›</li>
<li>BFCã€æ¸…é™¤æµ®åŠ¨ï¼›</li>
<li>css3åŠ¨ç”»ã€H5æ–°ç‰¹æ€§ã€‚</li>
</ul>
<h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><ul>
<li>ç»§æ‰¿ã€åŸå‹é“¾ã€thisæŒ‡å‘ã€è®¾è®¡æ¨¡å¼ã€call, apply, bind,ï¼›</li>
<li>newå®ç°ã€é˜²æŠ–èŠ‚æµã€let, var, const åŒºåˆ«ã€æš‚æ—¶æ€§æ­»åŒºã€eventã€loopï¼›</li>
<li>promiseä½¿ç”¨åŠå®ç°ã€promiseå¹¶è¡Œæ‰§è¡Œå’Œé¡ºåºæ‰§è¡Œï¼›</li>
<li>async/awaitçš„ä¼˜ç¼ºç‚¹ï¼›</li>
<li>é—­åŒ…ã€åƒåœ¾å›æ”¶å’Œå†…å­˜æ³„æ¼ã€æ•°ç»„æ–¹æ³•ã€æ•°ç»„ä¹±åº, æ•°ç»„æ‰å¹³åŒ–ã€äº‹ä»¶å§”æ‰˜ã€äº‹ä»¶ç›‘å¬ã€äº‹ä»¶æ¨¡å‹</li>
</ul>
<span id="more"></span>

<h4 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h4><ul>
<li>vueæ•°æ®åŒå‘ç»‘å®šåŸç†ï¼›</li>
<li>vue computedåŸç†ã€computedå’Œwatchçš„åŒºåˆ«ï¼›</li>
<li>vueç¼–è¯‘å™¨ç»“æ„å›¾ã€ç”Ÿå‘½å‘¨æœŸã€vueç»„ä»¶é€šä¿¡ï¼›</li>
<li>mvvmæ¨¡å¼ã€mvcæ¨¡å¼ç†è§£ï¼›</li>
<li>vue dom diffã€vuexã€vue-router</li>
</ul>
<h4 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h4><ul>
<li>HTTP1, HTTP2, HTTPSã€å¸¸è§çš„httpçŠ¶æ€ç ï¼›</li>
<li>æµè§ˆä»è¾“å…¥ç½‘å€åˆ°å›è½¦å‘ç”Ÿäº†ä»€ä¹ˆï¼›</li>
<li>å‰ç«¯å®‰å…¨ï¼ˆCSRFã€XSSï¼‰</li>
<li>å‰ç«¯è·¨åŸŸã€æµè§ˆå™¨ç¼“å­˜ã€cookie, session, token, localstorage, sessionstorageï¼›</li>
<li>TCPè¿æ¥(ä¸‰æ¬¡æ¡æ‰‹, å››æ¬¡æŒ¥æ‰‹)</li>
</ul>
<h4 id="æ€§èƒ½ç›¸å…³"><a href="#æ€§èƒ½ç›¸å…³" class="headerlink" title="æ€§èƒ½ç›¸å…³"></a>æ€§èƒ½ç›¸å…³</h4><ul>
<li>å›¾ç‰‡ä¼˜åŒ–çš„æ–¹å¼</li>
<li>500 å¼ å›¾ç‰‡ï¼Œå¦‚ä½•å®ç°é¢„åŠ è½½ä¼˜åŒ–</li>
<li>æ‡’åŠ è½½å…·ä½“å®ç°</li>
<li>å‡å°‘httpè¯·æ±‚çš„æ–¹å¼</li>
<li>webpackå¦‚ä½•é…ç½®å¤§å‹é¡¹ç›®</li>
</ul>
<h4 id="å‰ç«¯çŸ¥è¯†ç‚¹ï¼š"><a href="#å‰ç«¯çŸ¥è¯†ç‚¹ï¼š" class="headerlink" title="å‰ç«¯çŸ¥è¯†ç‚¹ï¼š"></a>å‰ç«¯çŸ¥è¯†ç‚¹ï¼š</h4><h5 id="ğŸŒˆJavascriptçš„æ•°æ®ç±»å‹"><a href="#ğŸŒˆJavascriptçš„æ•°æ®ç±»å‹" class="headerlink" title="ğŸŒˆJavascriptçš„æ•°æ®ç±»å‹"></a>ğŸŒˆJavascriptçš„æ•°æ®ç±»å‹</h5><p>JavaScriptä¸€å…±æœ‰8ç§æ•°æ®ç±»å‹ï¼Œå…¶ä¸­æœ‰7ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼šUndefinedã€Nullã€Booleanã€Numberã€Stringã€Symbolï¼ˆes6æ–°å¢ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼‰å’ŒBigIntï¼ˆes10æ–°å¢ï¼‰ï¼›<br>1ç§å¼•ç”¨æ•°æ®ç±»å‹â€”â€”Objectï¼ˆObjectæœ¬è´¨ä¸Šæ˜¯ç”±ä¸€ç»„æ— åºçš„åå€¼å¯¹ç»„æˆçš„ï¼‰ã€‚</p>
<p>åŸå§‹æ•°æ®ç±»å‹ï¼šç›´æ¥å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­ï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ã€‚</p>
<p>å¼•ç”¨æ•°æ®ç±»å‹ï¼šåŒæ—¶å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰å’Œå †ï¼ˆheapï¼‰ä¸­ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚</p>
<h5 id="ğŸŒˆæ•°æ®ç±»å‹çš„è½¬æ¢"><a href="#ğŸŒˆæ•°æ®ç±»å‹çš„è½¬æ¢" class="headerlink" title="ğŸŒˆæ•°æ®ç±»å‹çš„è½¬æ¢"></a>ğŸŒˆæ•°æ®ç±»å‹çš„è½¬æ¢</h5><p>åœ¨ JS ä¸­ç±»å‹è½¬æ¢åªæœ‰ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆè°ƒç”¨Boolean()æ–¹æ³•ï¼‰</li>
<li>è½¬æ¢ä¸ºæ•°å­—ï¼ˆè°ƒç”¨Number()ã€parseInt()å’ŒparseFloat()æ–¹æ³•ï¼‰</li>
<li>è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆè°ƒç”¨.toString()æˆ–è€…String()æ–¹æ³•ï¼‰</li>
</ul>
<h5 id="ğŸŒˆæ•°æ®ç±»å‹çš„åˆ¤æ–­"><a href="#ğŸŒˆæ•°æ®ç±»å‹çš„åˆ¤æ–­" class="headerlink" title="ğŸŒˆæ•°æ®ç±»å‹çš„åˆ¤æ–­"></a>ğŸŒˆæ•°æ®ç±»å‹çš„åˆ¤æ–­</h5><ul>
<li><p>typeof  é™¤äº† null éƒ½å¯ä»¥æ˜¾ç¤ºæ­£ç¡®çš„ç±»å‹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">2</span>);               <span class="comment">// number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>);            <span class="comment">// boolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">&#x27;str&#x27;</span>);           <span class="comment">// string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> []);              <span class="comment">// object  []æ•°ç»„çš„æ•°æ®ç±»å‹åœ¨typeof ä¸­è¢«è§£é‡Šä¸º object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);    <span class="comment">// function</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> &#123;&#125;);              <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);       <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>);            <span class="comment">// object     null çš„æ•°æ®ç±»å‹typeof è§£é‡Šä¸º object</span></span><br></pre></td></tr></table></figure></li>
<li><p>instanceof å¯ä»¥æ­£ç¡®çš„åˆ¤æ–­å¯¹è±¡çš„ç±»å‹ï¼Œå› ä¸ºå†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„ prototypeã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>);                    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>);                <span class="comment">// false </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;str&#x27;</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);                <span class="comment">// false  </span></span><br><span class="line"><span class="built_in">console</span>.log([] <span class="keyword">instanceof</span> <span class="built_in">Array</span>);                    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Function</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123;&#125; <span class="keyword">instanceof</span> <span class="built_in">Object</span>);                   <span class="comment">// true    </span></span><br><span class="line"><span class="comment">// console.log(undefined instanceof Undefined);</span></span><br><span class="line"><span class="comment">// console.log(null instanceof Null);</span></span><br></pre></td></tr></table></figure>

<p>MDNä¸­çš„è§£é‡Šï¼šinstanceof è¿ç®—ç¬¦ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡åœ¨å…¶åŸå‹é“¾ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„ prototype å±æ€§ã€‚å…¶æ„æ€å°±æ˜¯åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸€æ•°æ®ç±»å‹ï¼ˆå¦‚Arrayï¼‰çš„å®ä¾‹ï¼Œè¯·é‡ç‚¹å…³æ³¨ä¸€ä¸‹æ˜¯åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æ•°æ®ç±»å‹çš„å®ä¾‹ã€‚åœ¨è¿™é‡Œå­—é¢é‡å€¼ï¼Œ2ï¼Œ true ï¼Œâ€™strâ€™ä¸æ˜¯å®ä¾‹ï¼Œæ‰€ä»¥åˆ¤æ–­å€¼ä¸ºfalseã€‚</p>
<blockquote>
<p>å†…éƒ¨æœºåˆ¶æ˜¯é€šè¿‡åˆ¤æ–­å¯¹è±¡çš„åŸå‹é“¾ä¸­æ˜¯ä¸æ˜¯èƒ½æ‰¾åˆ°ç±»å‹çš„ prototypeã€‚<br>å®ç° instanceofï¼š</p>
</blockquote>
<ol>
<li>é¦–å…ˆè·å–ç±»å‹çš„åŸå‹</li>
<li>ç„¶åè·å¾—å¯¹è±¡çš„åŸå‹</li>
<li>ç„¶åä¸€ç›´å¾ªç¯åˆ¤æ–­å¯¹è±¡çš„åŸå‹æ˜¯å¦ç­‰äºç±»å‹çš„åŸå‹ï¼Œç›´åˆ°å¯¹è±¡åŸå‹ä¸º nullï¼Œå› ä¸ºåŸå‹é“¾æœ€ç»ˆä¸º null</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myInstanceof</span>(<span class="params">left, right</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> prototype = right.prototype</span><br><span class="line">  left = left.__proto__</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (left === <span class="literal">null</span> || left === <span class="literal">undefined</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      <span class="keyword">if</span> (prototype === left)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      left = left.__proto__</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>constructor</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((<span class="number">2</span>).constructor === <span class="built_in">Number</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="literal">true</span>).constructor === <span class="built_in">Boolean</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="string">&#x27;str&#x27;</span>).constructor === <span class="built_in">String</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(([]).constructor === <span class="built_in">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;).constructor === <span class="built_in">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((&#123;&#125;).constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ›´æ”¹å®ƒçš„åŸå‹ï¼Œconstructorå°±ä¼šå˜å¾—ä¸å¯é </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Fn.prototype=<span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> f=<span class="keyword">new</span> Fn();</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(f.constructor===Fn);    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(f.constructor===<span class="built_in">Array</span>); <span class="comment">// true </span></span><br></pre></td></tr></table></figure></li>
<li><p>**Object.prototype.toString.call() ** ä½¿ç”¨ Object å¯¹è±¡çš„åŸå‹æ–¹æ³• toString </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">true</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="string">&#x27;str&#x27;</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call([]));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(&#123;&#125;));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">undefined</span>));</span><br><span class="line"><span class="built_in">console</span>.log(a.call(<span class="literal">null</span>));</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="ğŸŒˆJavascriptçš„å†…ç½®å¯¹è±¡"><a href="#ğŸŒˆJavascriptçš„å†…ç½®å¯¹è±¡" class="headerlink" title="ğŸŒˆJavascriptçš„å†…ç½®å¯¹è±¡"></a>ğŸŒˆJavascriptçš„å†…ç½®å¯¹è±¡</h5><p>å†…ç½®å¯¹è±¡ä¸»è¦æŒ‡çš„æ˜¯åœ¨ç¨‹åºæ‰§è¡Œå‰å­˜åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œçš„ç”± js å®šä¹‰çš„ä¸€äº›å…¨å±€å€¼å±æ€§ã€å‡½æ•°å’Œç”¨æ¥å®ä¾‹åŒ–å…¶ä»–å¯¹è±¡çš„æ„é€ å‡½ æ•°å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…¨å±€çš„å¯¹è±¡ï¼ˆ global objects ï¼‰æˆ–ç§°æ ‡å‡†å†…ç½®å¯¹è±¡ï¼Œä¸è¦å’Œ &quot;å…¨å±€å¯¹è±¡ï¼ˆglobal objectï¼‰&quot; æ··æ·†ã€‚è¿™é‡Œè¯´çš„å…¨å±€çš„å¯¹è±¡æ˜¯è¯´åœ¨</span><br><span class="line">å…¨å±€ä½œç”¨åŸŸé‡Œçš„å¯¹è±¡ã€‚å…¨å±€ä½œç”¨åŸŸä¸­çš„å…¶ä»–å¯¹è±¡å¯ä»¥ç”±ç”¨æˆ·çš„è„šæœ¬åˆ›å»ºæˆ–ç”±å®¿ä¸»ç¨‹åºæä¾›ã€‚</span><br><span class="line"></span><br><span class="line">æ ‡å‡†å†…ç½®å¯¹è±¡çš„åˆ†ç±»</span><br><span class="line"></span><br><span class="line">ï¼ˆ1ï¼‰å€¼å±æ€§ï¼Œè¿™äº›å…¨å±€å±æ€§è¿”å›ä¸€ä¸ªç®€å•å€¼ï¼Œè¿™äº›å€¼æ²¡æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Infinityã€NaNã€undefinedã€null å­—é¢é‡</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰å‡½æ•°å±æ€§ï¼Œå…¨å±€å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦åœ¨è°ƒç”¨æ—¶æŒ‡å®šæ‰€å±å¯¹è±¡ï¼Œæ‰§è¡Œç»“æŸåä¼šå°†ç»“æœç›´æ¥è¿”å›ç»™è°ƒç”¨è€…ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ eval()ã€parseFloat()ã€parseInt() ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰åŸºæœ¬å¯¹è±¡ï¼ŒåŸºæœ¬å¯¹è±¡æ˜¯å®šä¹‰æˆ–ä½¿ç”¨å…¶ä»–å¯¹è±¡çš„åŸºç¡€ã€‚åŸºæœ¬å¯¹è±¡åŒ…æ‹¬ä¸€èˆ¬å¯¹è±¡ã€å‡½æ•°å¯¹è±¡å’Œé”™è¯¯å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Objectã€Functionã€Booleanã€Symbolã€Error ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ4ï¼‰æ•°å­—å’Œæ—¥æœŸå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºæ•°å­—ã€æ—¥æœŸå’Œæ‰§è¡Œæ•°å­¦è®¡ç®—çš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Numberã€Mathã€Date</span><br><span class="line"></span><br><span class="line">ï¼ˆ5ï¼‰å­—ç¬¦ä¸²ï¼Œç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œå­—ç¬¦ä¸²çš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Stringã€RegExp</span><br><span class="line"></span><br><span class="line">ï¼ˆ6ï¼‰å¯ç´¢å¼•çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡è¡¨ç¤ºæŒ‰ç…§ç´¢å¼•å€¼æ¥æ’åºçš„æ•°æ®é›†åˆï¼ŒåŒ…æ‹¬æ•°ç»„å’Œç±»å‹æ•°ç»„ï¼Œä»¥åŠç±»æ•°ç»„ç»“æ„çš„å¯¹è±¡ã€‚ä¾‹å¦‚ Array</span><br><span class="line"></span><br><span class="line">ï¼ˆ7ï¼‰ä½¿ç”¨é”®çš„é›†åˆå¯¹è±¡ï¼Œè¿™äº›é›†åˆå¯¹è±¡åœ¨å­˜å‚¨æ•°æ®æ—¶ä¼šä½¿ç”¨åˆ°é”®ï¼Œæ”¯æŒæŒ‰ç…§æ’å…¥é¡ºåºæ¥è¿­ä»£å…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Mapã€Setã€WeakMapã€WeakSet</span><br><span class="line"></span><br><span class="line">ï¼ˆ8ï¼‰çŸ¢é‡é›†åˆï¼ŒSIMD çŸ¢é‡é›†åˆä¸­çš„æ•°æ®ä¼šè¢«ç»„ç»‡ä¸ºä¸€ä¸ªæ•°æ®åºåˆ—ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ SIMD ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ9ï¼‰ç»“æ„åŒ–æ•°æ®ï¼Œè¿™äº›å¯¹è±¡ç”¨æ¥è¡¨ç¤ºå’Œæ“ä½œç»“æ„åŒ–çš„ç¼“å†²åŒºæ•°æ®ï¼Œæˆ–ä½¿ç”¨ JSON ç¼–ç çš„æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ JSON ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ10ï¼‰æ§åˆ¶æŠ½è±¡å¯¹è±¡</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Promiseã€Generator ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ11ï¼‰åå°„</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Reflectã€Proxy</span><br><span class="line"></span><br><span class="line">ï¼ˆ12ï¼‰å›½é™…åŒ–ï¼Œä¸ºäº†æ”¯æŒå¤šè¯­è¨€å¤„ç†è€ŒåŠ å…¥ ECMAScript çš„å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ Intlã€Intl.Collator ç­‰</span><br><span class="line"></span><br><span class="line">ï¼ˆ13ï¼‰WebAssembly</span><br><span class="line"></span><br><span class="line">ï¼ˆ14ï¼‰å…¶ä»–</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ arguments</span><br></pre></td></tr></table></figure>



<h5 id="ğŸŒˆundefined-ä¸-undeclared"><a href="#ğŸŒˆundefined-ä¸-undeclared" class="headerlink" title="ğŸŒˆundefined ä¸ undeclared"></a>ğŸŒˆundefined ä¸ undeclared</h5><p>å·²åœ¨ä½œç”¨åŸŸä¸­å£°æ˜ä½†è¿˜æ²¡æœ‰èµ‹å€¼çš„å˜é‡ï¼Œæ˜¯ undefinedã€‚ç›¸åï¼Œè¿˜æ²¡æœ‰åœ¨ä½œç”¨åŸŸä¸­å£°æ˜è¿‡çš„å˜é‡ï¼Œæ˜¯ undeclared çš„ã€‚</p>
<p>å¯¹äº undeclared å˜é‡çš„å¼•ç”¨ï¼Œæµè§ˆå™¨ä¼šæŠ¥å¼•ç”¨é”™è¯¯ï¼Œå¦‚ ReferenceError: b is not defined ã€‚ä½†æ˜¯å¯ä»¥ä½¿ç”¨ typeof çš„å®‰å…¨é˜²èŒƒæœºåˆ¶æ¥é¿å…æŠ¥é”™ï¼Œå› ä¸ºå¯¹äº undeclaredï¼ˆæˆ–è€… not defined ï¼‰å˜é‡ï¼Œtypeof ä¼šè¿”å› â€œundefinedâ€ã€‚</p>
<h5 id="ğŸŒˆnull-ä¸-undefined"><a href="#ğŸŒˆnull-ä¸-undefined" class="headerlink" title="ğŸŒˆnull  ä¸ undefined"></a>ğŸŒˆnull  ä¸ undefined</h5><p>Undefined å’Œ Null éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™ä¸¤ä¸ªåŸºæœ¬æ•°æ®ç±»å‹åˆ†åˆ«éƒ½åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ undefined å’Œ nullã€‚</p>
<p>undefined ä»£è¡¨çš„å«ä¹‰æ˜¯æœªå®šä¹‰ï¼Œ null ä»£è¡¨çš„å«ä¹‰æ˜¯ç©ºå¯¹è±¡ã€‚ä¸€èˆ¬å˜é‡å£°æ˜äº†ä½†è¿˜æ²¡æœ‰å®šä¹‰çš„æ—¶å€™ä¼šè¿”å› undefinedï¼Œnull ä¸»è¦ç”¨äºèµ‹å€¼ç»™ä¸€äº›å¯èƒ½ä¼šè¿”å›å¯¹è±¡çš„å˜é‡ï¼Œä½œä¸ºåˆå§‹åŒ–ã€‚</p>
<p>undefined åœ¨ js ä¸­ä¸æ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨ undefined æ¥ä½œä¸ºä¸€ä¸ªå˜é‡åï¼Œè¿™æ ·çš„åšæ³•æ˜¯éå¸¸å±é™©çš„ï¼Œå®ƒä¼šå½±å“å¯¹ undefined å€¼çš„åˆ¤æ–­ã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•è·å¾—å®‰å…¨çš„ undefined å€¼ï¼Œæ¯”å¦‚è¯´ void 0ã€‚</p>
<h5 id="ğŸŒˆ-å’Œ-çš„valueOfå’ŒtoStringçš„ç»“æœ"><a href="#ğŸŒˆ-å’Œ-çš„valueOfå’ŒtoStringçš„ç»“æœ" class="headerlink" title="ğŸŒˆ{}å’Œ[]çš„valueOfå’ŒtoStringçš„ç»“æœ"></a>ğŸŒˆ{}å’Œ[]çš„valueOfå’ŒtoStringçš„ç»“æœ</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;&#125; çš„ valueOf ç»“æœä¸º &#123;&#125; ï¼ŒtoString çš„ç»“æœä¸º &quot;[object Object]&quot;</span><br><span class="line"></span><br><span class="line">[] çš„ valueOf ç»“æœä¸º [] ï¼ŒtoString çš„ç»“æœä¸º &quot;&quot;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆJavascript-çš„ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"><a href="#ğŸˆJavascript-çš„ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾" class="headerlink" title="ğŸˆJavascript çš„ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"></a>ğŸˆJavascript çš„ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾</h5><p><strong>ä½œç”¨åŸŸï¼š</strong> ä½œç”¨åŸŸæ˜¯å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œå®ƒæœ‰ä¸€å¥—è®¿é—®å˜é‡çš„è§„åˆ™ï¼Œè¿™å¥—è§„åˆ™æ¥ç®¡ç†æµè§ˆå™¨å¼•æ“å¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸä»¥åŠåµŒå¥—çš„ä½œç”¨åŸŸä¸­æ ¹æ®å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰è¿›è¡Œå˜é‡æŸ¥æ‰¾ã€‚</p>
<p><strong>ä½œç”¨åŸŸé“¾ï¼š</strong> ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å¤–å±‚ç¯å¢ƒçš„å˜é‡å’Œ å‡½æ•°ã€‚</p>
<p>ä½œç”¨åŸŸé“¾çš„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ã€‚å˜é‡å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰§è¡Œç¯å¢ƒä¸­æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„å¯¹è±¡ã€‚ä½œç”¨åŸŸé“¾çš„å‰ ç«¯å§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ï¼‰å§‹ç»ˆæ˜¯ä½œç”¨åŸŸé“¾çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>å½“æˆ‘ä»¬æŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœå½“å‰æ‰§è¡Œç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥æ²¿ç€ä½œç”¨åŸŸé“¾å‘åæŸ¥æ‰¾ã€‚</p>
<p>ä½œç”¨åŸŸé“¾çš„åˆ›å»ºè¿‡ç¨‹è·Ÿæ‰§è¡Œä¸Šä¸‹æ–‡çš„å»ºç«‹æœ‰å…³â€¦.</p>
<h5 id="ğŸˆJavascript-åˆ›å»ºå¯¹è±¡æ–¹å¼"><a href="#ğŸˆJavascript-åˆ›å»ºå¯¹è±¡æ–¹å¼" class="headerlink" title="ğŸˆJavascript åˆ›å»ºå¯¹è±¡æ–¹å¼"></a>ğŸˆJavascript åˆ›å»ºå¯¹è±¡æ–¹å¼</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å­—é¢é‡çš„å½¢å¼ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼Œä½†æ˜¯è¿™ç§åˆ›å»ºæ–¹å¼å¯¹äºåˆ›å»ºå¤§é‡ç›¸ä¼¼å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿå¤§é‡çš„é‡å¤ä»£ç ã€‚ä½† js</span><br><span class="line">å’Œä¸€èˆ¬çš„é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸åŒï¼Œåœ¨ ES6 ä¹‹å‰å®ƒæ²¡æœ‰ç±»çš„æ¦‚å¿µã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°æ¥è¿›è¡Œæ¨¡æ‹Ÿï¼Œä»è€Œäº§ç”Ÿå‡ºå¯å¤ç”¨çš„å¯¹è±¡</span><br><span class="line">åˆ›å»ºæ–¹å¼ï¼Œæˆ‘äº†è§£åˆ°çš„æ–¹å¼æœ‰è¿™ä¹ˆå‡ ç§ï¼š</span><br><span class="line"></span><br><span class="line">ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ˜¯å·¥å‚æ¨¡å¼ï¼Œå·¥å‚æ¨¡å¼çš„ä¸»è¦å·¥ä½œåŸç†æ˜¯ç”¨å‡½æ•°æ¥å°è£…åˆ›å»ºå¯¹è±¡çš„ç»†èŠ‚ï¼Œä»è€Œé€šè¿‡è°ƒç”¨å‡½æ•°æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜å°±æ˜¯åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ— æ³•å’ŒæŸä¸ªç±»å‹è”ç³»èµ·æ¥ï¼Œå®ƒåªæ˜¯ç®€å•çš„å°è£…äº†å¤ç”¨ä»£ç ï¼Œè€Œæ²¡æœ‰å»ºç«‹èµ·å¯¹è±¡å’Œç±»å‹é—´çš„å…³ç³»ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ2ï¼‰ç¬¬äºŒç§æ˜¯æ„é€ å‡½æ•°æ¨¡å¼ã€‚js ä¸­æ¯ä¸€ä¸ªå‡½æ•°éƒ½å¯ä»¥ä½œä¸ºæ„é€ å‡½æ•°ï¼Œåªè¦ä¸€ä¸ªå‡½æ•°æ˜¯é€šè¿‡ new æ¥è°ƒç”¨çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æŠŠå®ƒç§°ä¸ºæ„é€ å‡½æ•°ã€‚æ‰§è¡Œæ„é€ å‡½æ•°é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå°†å¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§ï¼Œç„¶åå°†æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ this æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæœ€åå†æ‰§è¡Œæ•´ä¸ªå‡½æ•°ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›æ–°å»ºçš„å¯¹è±¡ã€‚å› ä¸º this çš„å€¼æŒ‡å‘äº†æ–°å»ºçš„å¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ this ç»™å¯¹è±¡èµ‹å€¼ã€‚æ„é€ å‡½æ•°æ¨¡å¼ç›¸å¯¹äºå·¥å‚æ¨¡å¼çš„ä¼˜ç‚¹æ˜¯ï¼Œæ‰€åˆ›å»ºçš„å¯¹è±¡å’Œæ„é€ å‡½æ•°å»ºç«‹èµ·äº†è”ç³»ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡åŸå‹æ¥è¯†åˆ«å¯¹è±¡çš„ç±»å‹ã€‚ä½†æ˜¯æ„é€ å‡½æ•°å­˜åœ¨ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯ï¼Œé€ æˆäº†ä¸å¿…è¦çš„å‡½æ•°å¯¹è±¡çš„åˆ›å»ºï¼Œå› ä¸ºåœ¨ js ä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¦‚æœå¯¹è±¡å±æ€§ä¸­å¦‚æœåŒ…å«å‡½æ•°çš„è¯ï¼Œé‚£ä¹ˆæ¯æ¬¡æˆ‘ä»¬éƒ½ä¼šæ–°å»ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæµªè´¹äº†ä¸å¿…è¦çš„å†…å­˜ç©ºé—´ï¼Œå› ä¸ºå‡½æ•°æ˜¯æ‰€æœ‰çš„å®ä¾‹éƒ½å¯ä»¥é€šç”¨çš„ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ¨¡å¼æ˜¯åŸå‹æ¨¡å¼ï¼Œå› ä¸ºæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„æ‰€æœ‰å®ä¾‹éƒ½èƒ½å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŸå‹å¯¹è±¡æ¥æ·»åŠ å…¬ç”¨å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç çš„å¤ç”¨ã€‚è¿™ç§æ–¹å¼ç›¸å¯¹äºæ„é€ å‡½æ•°æ¨¡å¼æ¥è¯´ï¼Œè§£å†³äº†å‡½æ•°å¯¹è±¡çš„å¤ç”¨é—®é¢˜ã€‚ä½†æ˜¯è¿™ç§æ¨¡å¼ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æ²¡æœ‰åŠæ³•é€šè¿‡ä¼ å…¥å‚æ•°æ¥åˆå§‹åŒ–å€¼ï¼Œå¦ä¸€ä¸ªæ˜¯å¦‚æœå­˜åœ¨ä¸€ä¸ªå¼•ç”¨ç±»å‹å¦‚ Array è¿™æ ·çš„å€¼ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å®ä¾‹å°†å…±äº«ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªå®ä¾‹å¯¹å¼•ç”¨ç±»å‹å€¼çš„æ”¹å˜ä¼šå½±å“æ‰€æœ‰çš„å®ä¾‹ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ4ï¼‰ç¬¬å››ç§æ¨¡å¼æ˜¯ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼ï¼Œè¿™æ˜¯åˆ›å»ºè‡ªå®šä¹‰ç±»å‹çš„æœ€å¸¸è§æ–¹å¼ã€‚å› ä¸ºæ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼åˆ†å¼€ä½¿ç”¨éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç»„åˆä½¿ç”¨è¿™ä¸¤ç§æ¨¡å¼ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–å¯¹è±¡çš„å±æ€§ï¼Œé€šè¿‡åŸå‹å¯¹è±¡æ¥å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ã€‚è¿™ç§æ–¹æ³•å¾ˆå¥½çš„è§£å†³äº†ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„ç¼ºç‚¹ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ä¸è¶³çš„å°±æ˜¯ï¼Œå› ä¸ºä½¿ç”¨äº†ä¸¤ç§ä¸åŒçš„æ¨¡å¼ï¼Œæ‰€ä»¥å¯¹äºä»£ç çš„å°è£…æ€§ä¸å¤Ÿå¥½ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ5ï¼‰ç¬¬äº”ç§æ¨¡å¼æ˜¯åŠ¨æ€åŸå‹æ¨¡å¼ï¼Œè¿™ä¸€ç§æ¨¡å¼å°†åŸå‹æ–¹æ³•èµ‹å€¼çš„åˆ›å»ºè¿‡ç¨‹ç§»åŠ¨åˆ°äº†æ„é€ å‡½æ•°çš„å†…éƒ¨ï¼Œé€šè¿‡å¯¹å±æ€§æ˜¯å¦å­˜åœ¨çš„åˆ¤æ–­ï¼Œå¯ä»¥å®ç°ä»…åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶å¯¹åŸå‹å¯¹è±¡èµ‹å€¼ä¸€æ¬¡çš„æ•ˆæœã€‚è¿™ä¸€ç§æ–¹å¼å¾ˆå¥½åœ°å¯¹ä¸Šé¢çš„æ··åˆæ¨¡å¼è¿›è¡Œäº†å°è£…ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ6ï¼‰ç¬¬å…­ç§æ¨¡å¼æ˜¯å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼ï¼Œè¿™ä¸€ç§æ¨¡å¼å’Œå·¥å‚æ¨¡å¼çš„å®ç°åŸºæœ¬ç›¸åŒï¼Œæˆ‘å¯¹è¿™ä¸ªæ¨¡å¼çš„ç†è§£æ˜¯ï¼Œå®ƒä¸»è¦æ˜¯åŸºäºä¸€ä¸ªå·²æœ‰çš„ç±»å‹ï¼Œåœ¨å®ä¾‹åŒ–æ—¶å¯¹å®ä¾‹åŒ–çš„å¯¹è±¡è¿›è¡Œæ‰©å±•ã€‚è¿™æ ·æ—¢ä¸ç”¨ä¿®æ”¹åŸæ¥çš„æ„é€ å‡½æ•°ï¼Œä¹Ÿè¾¾åˆ°äº†æ‰©å±•å¯¹è±¡çš„ç›®çš„ã€‚å®ƒçš„ä¸€ä¸ªç¼ºç‚¹å’Œå·¥å‚æ¨¡å¼ä¸€æ ·ï¼Œæ— æ³•å®ç°å¯¹è±¡çš„è¯†åˆ«ã€‚</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆJavascript-ç»§æ‰¿çš„å®ç°æ–¹å¼"><a href="#ğŸˆJavascript-ç»§æ‰¿çš„å®ç°æ–¹å¼" class="headerlink" title="ğŸˆJavascript ç»§æ‰¿çš„å®ç°æ–¹å¼"></a>ğŸˆJavascript ç»§æ‰¿çš„å®ç°æ–¹å¼</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">æˆ‘äº†è§£çš„ js ä¸­å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼æœ‰ï¼š</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰ç¬¬ä¸€ç§æ˜¯ä»¥åŸå‹é“¾çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿ï¼Œä½†æ˜¯è¿™ç§å®ç°æ–¹å¼å­˜åœ¨çš„ç¼ºç‚¹æ˜¯ï¼Œåœ¨åŒ…å«æœ‰å¼•ç”¨ç±»å‹çš„æ•°æ®æ—¶ï¼Œä¼šè¢«æ‰€æœ‰çš„å®ä¾‹å¯¹è±¡æ‰€å…±äº«ï¼Œå®¹æ˜“é€ æˆä¿®æ”¹çš„æ··ä¹±ã€‚è¿˜æœ‰å°±æ˜¯åœ¨åˆ›å»ºå­ç±»å‹çš„æ—¶å€™ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ˜¯é€šè¿‡åœ¨å­ç±»å‹çš„å‡½æ•°ä¸­è°ƒç”¨è¶…ç±»å‹çš„æ„é€ å‡½æ•°æ¥å®ç°çš„ï¼Œè¿™ä¸€ç§æ–¹æ³•è§£å†³äº†ä¸èƒ½å‘è¶…ç±»å‹ä¼ é€’å‚æ•°çš„ç¼ºç‚¹ï¼Œä½†æ˜¯å®ƒå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æ— æ³•å®ç°å‡½æ•°æ–¹æ³•çš„å¤ç”¨ï¼Œå¹¶ä¸”è¶…ç±»å‹åŸå‹å®šä¹‰çš„æ–¹æ³•å­ç±»å‹ä¹Ÿæ²¡æœ‰åŠæ³•è®¿é—®åˆ°ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°ç»„åˆèµ·æ¥ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°çš„æ–¹å¼æ¥å®ç°ç±»å‹çš„å±æ€§çš„ç»§æ‰¿ï¼Œé€šè¿‡å°†å­ç±»å‹çš„åŸå‹è®¾ç½®ä¸ºè¶…ç±»å‹çš„å®ä¾‹æ¥å®ç°æ–¹æ³•çš„ç»§æ‰¿ã€‚è¿™ç§æ–¹å¼è§£å†³äº†ä¸Šé¢çš„ä¸¤ç§æ¨¡å¼å•ç‹¬ä½¿ç”¨æ—¶çš„é—®é¢˜ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯ä»¥è¶…ç±»å‹çš„å®ä¾‹æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œæ‰€ä»¥è°ƒç”¨äº†ä¸¤æ¬¡è¶…ç±»çš„æ„é€ å‡½æ•°ï¼Œé€ æˆäº†å­ç±»å‹çš„åŸå‹ä¸­å¤šäº†å¾ˆå¤šä¸å¿…è¦çš„å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰ç¬¬å››ç§æ–¹å¼æ˜¯åŸå‹å¼ç»§æ‰¿ï¼ŒåŸå‹å¼ç»§æ‰¿çš„ä¸»è¦æ€è·¯å°±æ˜¯åŸºäºå·²æœ‰çš„å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œå®ç°çš„åŸç†æ˜¯ï¼Œå‘å‡½æ•°ä¸­ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿”å›ä¸€ä¸ªä»¥è¿™ä¸ªå¯¹è±¡ä¸ºåŸå‹çš„å¯¹è±¡ã€‚è¿™ç§ç»§æ‰¿çš„æ€è·¯ä¸»è¦ä¸æ˜¯ä¸ºäº†å®ç°åˆ›é€ ä¸€ç§æ–°çš„ç±»å‹ï¼Œåªæ˜¯å¯¹æŸä¸ªå¯¹è±¡å®ç°ä¸€ç§ç®€å•ç»§æ‰¿ï¼ŒES5 ä¸­å®šä¹‰çš„ <span class="built_in">Object</span>.create() æ–¹æ³•å°±æ˜¯åŸå‹å¼ç»§æ‰¿çš„å®ç°ã€‚ç¼ºç‚¹ä¸åŸå‹é“¾æ–¹å¼ç›¸åŒã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">5</span>ï¼‰ç¬¬äº”ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»§æ‰¿ï¼Œå¯„ç”Ÿå¼ç»§æ‰¿çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¤åˆ¶ä¸€ä¸ªå¯¹è±¡çš„å‰¯æœ¬ï¼Œç„¶åå¯¹è±¡è¿›è¡Œæ‰©å±•ï¼Œæœ€åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªæ‰©å±•çš„è¿‡ç¨‹å°±å¯ä»¥ç†è§£æ˜¯ä¸€ç§ç»§æ‰¿ã€‚è¿™ç§ç»§æ‰¿çš„ä¼˜ç‚¹å°±æ˜¯å¯¹ä¸€ä¸ªç®€å•å¯¹è±¡å®ç°ç»§æ‰¿ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡ä¸æ˜¯æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»å‹æ—¶ã€‚ç¼ºç‚¹æ˜¯æ²¡æœ‰åŠæ³•å®ç°å‡½æ•°çš„å¤ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">6</span>ï¼‰ç¬¬å…­ç§æ–¹å¼æ˜¯å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿çš„ç¼ºç‚¹å°±æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„å®ä¾‹åšä¸ºå­ç±»å‹çš„åŸå‹ï¼Œå¯¼è‡´æ·»åŠ äº†ä¸å¿…è¦çš„åŸå‹å±æ€§ã€‚å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿çš„æ–¹å¼æ˜¯ä½¿ç”¨è¶…ç±»å‹çš„åŸå‹çš„å‰¯æœ¬æ¥ä½œä¸ºå­ç±»å‹çš„åŸå‹ï¼Œè¿™æ ·å°±é¿å…äº†åˆ›å»ºä¸å¿…è¦çš„å±æ€§ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;My name is &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, grade</span>) </span>&#123;</span><br><span class="line">  Person.call(<span class="built_in">this</span>, name);</span><br><span class="line">  <span class="built_in">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Student.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line">Student.prototype.constructor = Student;</span><br><span class="line"></span><br><span class="line">Student.prototype.sayMyGrade = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;My grade is &quot;</span> + <span class="built_in">this</span>.grade + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆthisã€callã€applyå’Œbindçš„ç†è§£"><a href="#ğŸˆthisã€callã€applyå’Œbindçš„ç†è§£" class="headerlink" title="ğŸˆthisã€callã€applyå’Œbindçš„ç†è§£"></a>ğŸˆthisã€callã€applyå’Œbindçš„ç†è§£</h5><ol>
<li>åœ¨æµè§ˆå™¨é‡Œï¼Œåœ¨å…¨å±€èŒƒå›´å†…this æŒ‡å‘windowå¯¹è±¡ï¼›</li>
<li>åœ¨å‡½æ•°ä¸­ï¼Œthisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨ä»–çš„é‚£ä¸ªå¯¹è±¡ï¼›</li>
<li>æ„é€ å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘newå‡ºæ¥çš„é‚£ä¸ªæ–°çš„å¯¹è±¡ï¼›</li>
<li>callã€applyã€bindä¸­çš„thisè¢«å¼ºç»‘å®šåœ¨æŒ‡å®šçš„é‚£ä¸ªå¯¹è±¡ä¸Šï¼›</li>
<li>ç®­å¤´å‡½æ•°ä¸­thisæ¯”è¾ƒç‰¹æ®Š,ç®­å¤´å‡½æ•°thisä¸ºçˆ¶ä½œç”¨åŸŸçš„thisï¼Œä¸æ˜¯è°ƒç”¨æ—¶çš„this.è¦çŸ¥é“å‰å››ç§æ–¹å¼,éƒ½æ˜¯è°ƒç”¨æ—¶ç¡®å®š,ä¹Ÿå°±æ˜¯åŠ¨æ€çš„,è€Œç®­å¤´å‡½æ•°çš„thisæŒ‡å‘æ˜¯é™æ€çš„,å£°æ˜çš„æ—¶å€™å°±ç¡®å®šäº†ä¸‹æ¥ï¼›</li>
<li>applyã€callã€bindéƒ½æ˜¯jsç»™å‡½æ•°å†…ç½®çš„ä¸€äº›APIï¼Œè°ƒç”¨ä»–ä»¬å¯ä»¥ä¸ºå‡½æ•°æŒ‡å®šthisçš„æ‰§è¡Œ,åŒæ—¶ä¹Ÿå¯ä»¥ä¼ å‚ã€‚</li>
</ol>
<h5 id="ğŸˆJavaScript-åŸå‹ï¼ŒåŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"><a href="#ğŸˆJavaScript-åŸå‹ï¼ŒåŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="ğŸˆJavaScript åŸå‹ï¼ŒåŸå‹é“¾, æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ"></a>ğŸˆJavaScript åŸå‹ï¼ŒåŸå‹é“¾, æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h5><p>ä½¿ç”¨æ„é€ å‡½æ•°æ¥æ–°å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªæ„é€ å‡½æ•°çš„å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§å€¼ï¼Œè¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°æ–°å»ºä¸€ä¸ªå¯¹è±¡åï¼Œåœ¨è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨ å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§å¯¹åº”çš„å€¼ï¼Œåœ¨ ES5 ä¸­è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸ºå¯¹è±¡çš„åŸå‹ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ æ˜¯ä¸åº”è¯¥èƒ½å¤Ÿè·å–åˆ°è¿™ä¸ªå€¼çš„ï¼Œä½†æ˜¯ç°åœ¨æµè§ˆå™¨ä¸­éƒ½å®ç°äº† <strong>proto</strong> å±æ€§æ¥è®©æˆ‘ä»¬è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬æœ€å¥½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒä¸æ˜¯è§„èŒƒä¸­è§„å®šçš„ã€‚ES5 ä¸­æ–°å¢äº†ä¸€ä¸ª Object.getPrototypeOf() æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–å¯¹è±¡çš„åŸå‹ã€‚</p>
<p>å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡åˆä¼šæœ‰è‡ªå·±çš„åŸå‹ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾çš„æ¦‚å¿µã€‚åŸå‹é“¾çš„å°½å¤´ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯ Object.prototype æ‰€ä»¥è¿™å°±æ˜¯æ–°å»ºçš„å¯¹è±¡ä¸ºä»€ä¹ˆèƒ½å¤Ÿä½¿ç”¨ toString() ç­‰æ–¹æ³•çš„åŸå› ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<p>JavaScript å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚</p>
<p>// è·å–åŸå‹çš„æ–¹æ³•</p>
<ul>
<li>p.<strong>proto</strong></li>
<li>p.constructor.prototype</li>
<li>Object.getPrototypeOf(p)</li>
</ul>
<h5 id="ğŸˆé—­åŒ…"><a href="#ğŸˆé—­åŒ…" class="headerlink" title="ğŸˆé—­åŒ…"></a>ğŸˆé—­åŒ…</h5><p><strong>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸå†…å˜é‡çš„å‡½æ•°</strong>ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å¯ä»¥è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚</p>
<p>é—­åŒ…æœ‰ä¸¤ä¸ªå¸¸ç”¨çš„ç”¨é€”ã€‚</p>
<ul>
<li>é—­åŒ…çš„ç¬¬ä¸€ä¸ªç”¨é€”æ˜¯ä½¿æˆ‘ä»¬åœ¨å‡½æ•°å¤–éƒ¨èƒ½å¤Ÿè®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚é€šè¿‡ä½¿ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å¤–éƒ¨è°ƒç”¨é—­åŒ…å‡½æ•°ï¼Œä»è€Œåœ¨å¤–éƒ¨è®¿é—®åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥åˆ›å»ºç§æœ‰å˜é‡ã€‚</li>
<li>å‡½æ•°çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯ä½¿å·²ç»è¿è¡Œç»“æŸçš„å‡½æ•°ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¯¹è±¡ç»§ç»­ç•™åœ¨å†…å­˜ä¸­ï¼Œå› ä¸ºé—­åŒ…å‡½æ•°ä¿ç•™äº†è¿™ä¸ªå˜é‡å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥è¿™ä¸ªå˜é‡å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       n++;</span><br><span class="line">       <span class="built_in">console</span>.log(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> add;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a1 = a(); <span class="comment">//æ³¨æ„ï¼Œå‡½æ•°ååªæ˜¯ä¸€ä¸ªæ ‡è¯†ï¼ˆæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼‰ï¼Œè€Œï¼ˆï¼‰æ‰æ˜¯æ‰§è¡Œå‡½æ•°ï¼›</span></span><br><span class="line">a1();    <span class="comment">//1</span></span><br><span class="line">a1();    <span class="comment">//2  ç¬¬äºŒæ¬¡è°ƒç”¨nå˜é‡è¿˜åœ¨å†…å­˜ä¸­</span></span><br></pre></td></tr></table></figure>



<h5 id="ğŸŒˆDOM-å’Œ-BOM"><a href="#ğŸŒˆDOM-å’Œ-BOM" class="headerlink" title="ğŸŒˆDOM å’Œ BOM"></a>ğŸŒˆDOM å’Œ BOM</h5><p><strong>DOM</strong> æŒ‡çš„æ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæŒ‡çš„æ˜¯æŠŠæ–‡æ¡£å½“åšä¸€ä¸ªå¯¹è±¡æ¥å¯¹å¾…ï¼Œè¿™ä¸ªå¯¹è±¡ä¸»è¦å®šä¹‰äº†å¤„ç†ç½‘é¡µå†…å®¹çš„æ–¹æ³•å’Œæ¥å£ã€‚</p>
<p><strong>BOM</strong> æŒ‡çš„æ˜¯æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæŒ‡çš„æ˜¯æŠŠæµè§ˆå™¨å½“åšä¸€ä¸ªå¯¹è±¡æ¥å¯¹å¾…ï¼Œè¿™ä¸ªå¯¹è±¡ä¸»è¦å®šä¹‰äº†ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„æ³•å’Œæ¥å£ã€‚BOM çš„æ ¸å¿ƒæ˜¯ windowï¼Œè€Œ window å¯¹è±¡å…·æœ‰åŒé‡è§’è‰²ï¼Œå®ƒæ—¢æ˜¯é€šè¿‡ js è®¿é—®æµè§ˆå™¨çª—å£çš„ä¸€ä¸ªæ¥å£ï¼Œåˆæ˜¯ä¸€ä¸ª Globalï¼ˆå…¨å±€ï¼‰ å¯¹è±¡ã€‚è¿™æ„å‘³ç€åœ¨ç½‘é¡µä¸­å®šä¹‰çš„ä»»ä½•å¯¹è±¡ï¼Œå˜é‡å’Œå‡½æ•°ï¼Œéƒ½ä½œä¸ºå…¨å±€å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–è€…æ–¹æ³•å­˜åœ¨ã€‚window å¯¹è±¡å«æœ‰ locati on å¯¹è±¡ã€navigator å¯¹è±¡ã€screen å¯¹è±¡ç­‰å­å¯¹è±¡ï¼Œå¹¶ä¸” DOM çš„æœ€æ ¹æœ¬çš„å¯¹è±¡ document å¯¹è±¡ä¹Ÿæ˜¯ BOM çš„ window å¯¹ è±¡çš„å­å¯¹è±¡ã€‚</p>
<h5 id="ğŸŒˆä¸‰ç§äº‹ä»¶æ¨¡å‹å’Œäº‹ä»¶å§”æ‰˜"><a href="#ğŸŒˆä¸‰ç§äº‹ä»¶æ¨¡å‹å’Œäº‹ä»¶å§”æ‰˜" class="headerlink" title="ğŸŒˆä¸‰ç§äº‹ä»¶æ¨¡å‹å’Œäº‹ä»¶å§”æ‰˜"></a>ğŸŒˆä¸‰ç§äº‹ä»¶æ¨¡å‹å’Œäº‹ä»¶å§”æ‰˜</h5><p><strong>äº‹ä»¶</strong> æ˜¯ç”¨æˆ·æ“ä½œç½‘é¡µæ—¶å‘ç”Ÿçš„äº¤äº’åŠ¨ä½œæˆ–è€…ç½‘é¡µæœ¬èº«çš„ä¸€äº›æ“ä½œï¼Œç°ä»£æµè§ˆå™¨ä¸€å…±æœ‰ä¸‰ç§äº‹ä»¶æ¨¡å‹ã€‚</p>
<ol>
<li><strong>DOM0çº§æ¨¡å‹ï¼š</strong> è¿™ç§æ¨¡å‹ä¸ä¼šä¼ æ’­ï¼Œæ‰€ä»¥æ²¡æœ‰äº‹ä»¶æµçš„æ¦‚å¿µï¼Œä½†æ˜¯ç°åœ¨æœ‰çš„æµè§ˆå™¨æ”¯æŒä»¥å†’æ³¡çš„æ–¹å¼å®ç°ï¼Œå®ƒå¯ä»¥åœ¨ç½‘é¡µä¸­ç›´æ¥å®šä¹‰ç›‘å¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ jså±æ€§æ¥æŒ‡å®šç›‘å¬å‡½æ•°ã€‚è¿™ç§æ–¹å¼æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å…¼å®¹çš„ã€‚</li>
<li><strong>IE äº‹ä»¶æ¨¡å‹ï¼š</strong> åœ¨è¯¥äº‹ä»¶æ¨¡å‹ä¸­ï¼Œä¸€æ¬¡äº‹ä»¶å…±æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œäº‹ä»¶å¤„ç†é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µã€‚äº‹ä»¶å¤„ç†é˜¶æ®µä¼šé¦–å…ˆæ‰§è¡Œç›®æ ‡å…ƒç´ ç»‘å®šçš„ç›‘å¬äº‹ä»¶ã€‚ç„¶åæ˜¯äº‹ä»¶å†’æ³¡é˜¶æ®µï¼Œå†’æ³¡æŒ‡çš„æ˜¯äº‹ä»¶ä»ç›®æ ‡å…ƒç´ å†’æ³¡åˆ° documentï¼Œä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œã€‚è¿™ç§æ¨¡å‹é€šè¿‡ attachEvent æ¥æ·»åŠ ç›‘å¬å‡½æ•°ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªç›‘å¬å‡½æ•°ï¼Œä¼šæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</li>
<li><strong>DOM2 çº§äº‹ä»¶æ¨¡å‹ï¼š</strong> åœ¨è¯¥äº‹ä»¶æ¨¡å‹ä¸­ï¼Œä¸€æ¬¡äº‹ä»¶å…±æœ‰ä¸‰ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€ä¸ªè¿‡ç¨‹æ˜¯äº‹ä»¶æ•è·é˜¶æ®µã€‚æ•è·æŒ‡çš„æ˜¯äº‹ä»¶ä» document ä¸€ç›´å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ï¼Œä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œã€‚åé¢ä¸¤ä¸ªé˜¶æ®µå’Œ IE äº‹ä»¶æ¨¡å‹çš„ä¸¤ä¸ªé˜¶æ®µç›¸åŒã€‚è¿™ç§äº‹ä»¶æ¨¡å‹ï¼Œäº‹ä»¶ç»‘å®šçš„å‡½æ•°æ˜¯ addEventListenerï¼Œå…¶ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æŒ‡å®šäº‹ä»¶æ˜¯å¦åœ¨æ•è·é˜¶æ®µæ‰§è¡Œã€‚</li>
</ol>
<p><strong>äº‹ä»¶å§”æ‰˜</strong> æœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨äº†æµè§ˆå™¨äº‹ä»¶å†’æ³¡çš„æœºåˆ¶ã€‚å› ä¸ºäº‹ä»¶åœ¨å†’æ³¡è¿‡ç¨‹ä¸­ä¼šä¸Šä¼ åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå¹¶ä¸”çˆ¶èŠ‚ç‚¹å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡è·å–åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥æŠŠå­èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç”±çˆ¶èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°ç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºäº‹ä»¶ä»£ç†ã€‚</p>
<p>ä½¿ç”¨äº‹ä»¶ä»£ç†æˆ‘ä»¬å¯ä»¥ä¸å¿…è¦ä¸ºæ¯ä¸€ä¸ªå­å…ƒç´ éƒ½ç»‘å®šä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œè¿™æ ·å‡å°‘äº†å†…å­˜ä¸Šçš„æ¶ˆè€—ã€‚å¹¶ä¸”ä½¿ç”¨äº‹ä»¶ä»£ç†æˆ‘ä»¬è¿˜å¯ä»¥å®ç°äº‹ä»¶çš„åŠ¨æ€ç»‘å®šï¼Œæ¯”å¦‚è¯´æ–°å¢äº†ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å•ç‹¬åœ°ä¸ºå®ƒæ·»åŠ ä¸€ä¸ªç›‘å¬äº‹ä»¶ï¼Œå®ƒæ‰€å‘ç”Ÿçš„äº‹ä»¶ä¼šäº¤ç»™çˆ¶å…ƒç´ ä¸­çš„ç›‘å¬å‡½æ•°æ¥å¤„ç†ã€‚</p>
<h5 id="ğŸŒˆåˆ›å»ºä¸€ä¸ª-Ajax"><a href="#ğŸŒˆåˆ›å»ºä¸€ä¸ª-Ajax" class="headerlink" title="ğŸŒˆåˆ›å»ºä¸€ä¸ª Ajax"></a>ğŸŒˆåˆ›å»ºä¸€ä¸ª Ajax</h5><p>åˆ›å»ºæ­¥éª¤ï¼š</p>
<p><img src="http://lc-zk6rgik4.cn-n1.lcfile.com/wBORqzX64VulgYp5D72XJKTzsbaLYTQJ/1.webp"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŸç”Ÿå†™æ³•</span></span><br><span class="line"><span class="comment">//1ï¼šåˆ›å»ºAjaxå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="built_in">window</span>.XMLHttpRequest?<span class="keyword">new</span> XMLHttpRequest():<span class="keyword">new</span> ActiveXObject(<span class="string">&#x27;Microsoft.XMLHTTP&#x27;</span>);<span class="comment">// å…¼å®¹IE6åŠä»¥ä¸‹ç‰ˆæœ¬</span></span><br><span class="line"><span class="comment">//2ï¼šé…ç½® Ajaxè¯·æ±‚åœ°å€</span></span><br><span class="line">xhr.open(<span class="string">&#x27;get&#x27;</span>,<span class="string">&#x27;index.xml&#x27;</span>,<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//3ï¼šå‘é€è¯·æ±‚</span></span><br><span class="line">xhr.send(<span class="literal">null</span>); <span class="comment">// ä¸¥è°¨å†™æ³•</span></span><br><span class="line"><span class="comment">//4:ç›‘å¬è¯·æ±‚ï¼Œæ¥å—å“åº”</span></span><br><span class="line">xhr.onreadysatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(xhr.readySate==<span class="number">4</span>&amp;&amp;xhr.status==<span class="number">200</span> || xhr.status==<span class="number">304</span> )</span><br><span class="line">          <span class="built_in">console</span>.log(xhr.responsetXML)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// jquery </span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">  type:<span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  url:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="keyword">async</span>:ture,<span class="comment">//async å¼‚æ­¥  sync  åŒæ­¥</span></span><br><span class="line">  data:data,<span class="comment">//é’ˆå¯¹postè¯·æ±‚</span></span><br><span class="line">  dataType:<span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">  success:<span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  error:<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// promise å°è£…å®ç°ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getJSON</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª promise å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–°å»ºä¸€ä¸ª http è¯·æ±‚</span></span><br><span class="line">    xhr.open(<span class="string">&quot;GET&quot;</span>, url, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®çŠ¶æ€çš„ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.readyState !== <span class="number">4</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å½“è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶ï¼Œæ”¹å˜ promise çš„çŠ¶æ€</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.status === <span class="number">200</span>) &#123;</span><br><span class="line">        resolve(<span class="built_in">this</span>.response);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="built_in">this</span>.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®é”™è¯¯ç›‘å¬å‡½æ•°</span></span><br><span class="line">    xhr.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="built_in">this</span>.statusText));</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çš„æ•°æ®ç±»å‹</span></span><br><span class="line">    xhr.responseType = <span class="string">&quot;json&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">    xhr.setRequestHeader(<span class="string">&quot;Accept&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘é€ http è¯·æ±‚</span></span><br><span class="line">    xhr.send(<span class="literal">null</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸŒˆJavascript-çš„å‡ ç§æ¨¡å—è§„èŒƒ"><a href="#ğŸŒˆJavascript-çš„å‡ ç§æ¨¡å—è§„èŒƒ" class="headerlink" title="ğŸŒˆJavascript çš„å‡ ç§æ¨¡å—è§„èŒƒ"></a>ğŸŒˆJavascript çš„å‡ ç§æ¨¡å—è§„èŒƒ</h5><p>ç°åœ¨æ¯”è¾ƒæˆç†Ÿçš„æœ‰å››ç§æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ˜¯ CommonJS æ–¹æ¡ˆï¼Œå®ƒé€šè¿‡ require æ¥å¼•å…¥æ¨¡å—ï¼Œé€šè¿‡ module.exports å®šä¹‰æ¨¡å—çš„è¾“å‡ºæ¥å£ã€‚è¿™ç§æ¨¡å—åŠ è½½æ–¹æ¡ˆæ˜¯æœåŠ¡å™¨ç«¯çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒæ˜¯ä»¥åŒæ­¥çš„æ–¹å¼æ¥å¼•å…¥æ¨¡å—çš„ï¼Œå› ä¸ºåœ¨æœåŠ¡ç«¯æ–‡ä»¶éƒ½å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜ï¼Œæ‰€ä»¥è¯»å–éå¸¸å¿«ï¼Œæ‰€ä»¥ä»¥åŒæ­¥çš„æ–¹å¼åŠ è½½æ²¡æœ‰é—®é¢˜ã€‚ä½†å¦‚æœæ˜¯åœ¨æµè§ˆå™¨ç«¯ï¼Œç”±äºæ¨¡å—çš„åŠ è½½æ˜¯ä½¿ç”¨ç½‘ç»œè¯·æ±‚ï¼Œå› æ­¤ä½¿ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼æ›´åŠ åˆé€‚ã€‚</li>
<li>ç¬¬äºŒç§æ˜¯ AMD æ–¹æ¡ˆï¼Œè¿™ç§æ–¹æ¡ˆé‡‡ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼æ¥åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“åé¢è¯­å¥çš„æ‰§è¡Œï¼Œæ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥éƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°é‡Œï¼Œç­‰åˆ°åŠ è½½å®Œæˆåå†æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚require.js å®ç°äº† AMD è§„èŒƒã€‚</li>
<li>ç¬¬ä¸‰ç§æ˜¯ CMD æ–¹æ¡ˆï¼Œè¿™ç§æ–¹æ¡ˆå’Œ AMD æ–¹æ¡ˆéƒ½æ˜¯ä¸ºäº†è§£å†³å¼‚æ­¥æ¨¡å—åŠ è½½çš„é—®é¢˜ï¼Œsea.js å®ç°äº† CMD è§„èŒƒã€‚å®ƒå’Œrequire.jsçš„åŒºåˆ«åœ¨äºæ¨¡å—å®šä¹‰æ—¶å¯¹ä¾èµ–çš„å¤„ç†ä¸åŒå’Œå¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºçš„å¤„ç†ä¸åŒã€‚</li>
<li>ç¬¬å››ç§æ–¹æ¡ˆæ˜¯ ES6 æå‡ºçš„æ–¹æ¡ˆï¼Œä½¿ç”¨ import å’Œ export çš„å½¢å¼æ¥å¯¼å…¥å¯¼å‡ºæ¨¡å—ã€‚</li>
</ul>
<p>AMD å’Œ CMD è§„èŒƒçš„åŒºåˆ«ï¼š</p>
<ul>
<li><p>ç¬¬ä¸€ä¸ªæ–¹é¢æ˜¯åœ¨æ¨¡å—å®šä¹‰æ—¶å¯¹ä¾èµ–çš„å¤„ç†ä¸åŒã€‚AMDæ¨å´‡ä¾èµ–å‰ç½®ï¼Œåœ¨å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜å…¶ä¾èµ–çš„æ¨¡å—ã€‚è€Œ CMD æ¨å´‡å°±è¿‘ä¾èµ–ï¼Œåªæœ‰åœ¨ç”¨åˆ°æŸä¸ªæ¨¡å—çš„æ—¶å€™å†å» requireã€‚</p>
</li>
<li><p>ç¬¬äºŒä¸ªæ–¹é¢æ˜¯å¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºå¤„ç†ä¸åŒã€‚é¦–å…ˆ AMD å’Œ CMD å¯¹äºæ¨¡å—çš„åŠ è½½æ–¹å¼éƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä¸è¿‡å®ƒä»¬çš„åŒºåˆ«åœ¨äºæ¨¡å—çš„æ‰§è¡Œæ—¶æœºï¼ŒAMD åœ¨ä¾èµ–æ¨¡å—åŠ è½½å®Œæˆåå°±ç›´æ¥æ‰§è¡Œä¾èµ–æ¨¡å—ï¼Œä¾èµ–æ¨¡å—çš„æ‰§è¡Œé¡ºåºå’Œæˆ‘ä»¬ä¹¦å†™çš„é¡ºåºä¸ä¸€å®šä¸€è‡´ã€‚è€Œ CMD åœ¨ä¾èµ–æ¨¡å—åŠ è½½å®Œæˆåå¹¶ä¸æ‰§è¡Œï¼Œåªæ˜¯ä¸‹è½½è€Œå·²ï¼Œç­‰åˆ°æ‰€æœ‰çš„ä¾èµ–æ¨¡å—éƒ½åŠ è½½å¥½åï¼Œè¿›å…¥å›è°ƒå‡½æ•°é€»è¾‘ï¼Œé‡åˆ° require è¯­å¥çš„æ—¶å€™æ‰æ‰§è¡Œå¯¹åº”çš„æ¨¡å—ï¼Œè¿™æ ·æ¨¡å—çš„æ‰§è¡Œé¡ºåºå°±å’Œæˆ‘ä»¬ä¹¦å†™çš„é¡ºåºä¿æŒä¸€è‡´äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// CMD</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">&quot;./a&quot;</span>);</span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// æ­¤å¤„ç•¥å» 100 è¡Œ</span></span><br><span class="line">  <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">&quot;./b&quot;</span>); <span class="comment">// ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™</span></span><br><span class="line">  b.doSomething();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// AMD é»˜è®¤æ¨è</span></span><br><span class="line">define([<span class="string">&quot;./a&quot;</span>, <span class="string">&quot;./b&quot;</span>], <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½</span></span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// æ­¤å¤„ç•¥å» 100 è¡Œ</span></span><br><span class="line">  b.doSomething();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>ES6 æ¨¡å—ä¸ CommonJS æ¨¡å—ã€require.js</p>
<ol>
<li><code>CommonJS</code> æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚<code>CommonJS</code> æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚ES6 æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸ CommonJS ä¸ä¸€æ ·ã€‚JS å¼•æ“å¯¹è„šæœ¬é™æ€åˆ†æçš„æ—¶å€™ï¼Œé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤ importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œé¢å»å–å€¼ã€‚</li>
<li><code>CommonJS</code> æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚<code>CommonJS</code> æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼Œå³åœ¨è¾“å…¥æ—¶æ˜¯å…ˆåŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–æ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚</li>
<li><code>require.js</code> çš„æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡åŠ¨æ€åˆ›å»º script è„šæœ¬æ¥å¼‚æ­¥å¼•å…¥æ¨¡å—ï¼Œç„¶åå¯¹æ¯ä¸ªè„šæœ¬çš„ load äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œå¦‚æœæ¯ä¸ªè„šæœ¬éƒ½åŠ è½½å®Œæˆäº†ï¼Œå†è°ƒç”¨å›è°ƒå‡½æ•°ã€‚</li>
</ol>
<h5 id="ğŸˆJavascriptçš„è¿è¡Œæœºåˆ¶"><a href="#ğŸˆJavascriptçš„è¿è¡Œæœºåˆ¶" class="headerlink" title="ğŸˆJavascriptçš„è¿è¡Œæœºåˆ¶"></a>ğŸˆJavascriptçš„è¿è¡Œæœºåˆ¶</h5><p>äº‹ä»¶å¾ªç¯ï¼š</p>
<p>jsä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡æ€»çš„åˆ†æˆä¸¤ç±»ï¼š</p>
<ul>
<li>åŒæ­¥ä»»åŠ¡</li>
<li>å¼‚æ­¥ä»»åŠ¡</li>
</ul>
<p>å½“æˆ‘ä»¬æ‰“å¼€ç½‘ç«™æ—¶ï¼Œç½‘é¡µçš„æ¸²æŸ“è¿‡ç¨‹å°±æ˜¯ä¸€å¤§å †åŒæ­¥ä»»åŠ¡ï¼Œæ¯”å¦‚é¡µé¢éª¨æ¶å’Œé¡µé¢å…ƒç´ çš„æ¸²æŸ“ã€‚è€ŒåƒåŠ è½½å›¾ç‰‡éŸ³ä¹ä¹‹ç±»å ç”¨èµ„æºå¤§è€—æ—¶ä¹…çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¼‚æ­¥ä»»åŠ¡ã€‚</p>
<p><img src="http://lc-zk6rgik4.cn-n1.lcfile.com/qDHql9BEEbzj99BB2a72hgV2g0V0SGeb/2.webp"></p>
<ul>
<li>åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€åœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥<code>Event Table</code>å¹¶æ³¨å†Œå‡½æ•°ã€‚</li>
<li>å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼Œ<code>Event Table</code>ä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥<code>Event Queue</code>ã€‚</li>
<li>ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»<code>Event Queue</code>è¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li>
<li>ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„<code>Event Loop</code>(äº‹ä»¶å¾ªç¯)ã€‚</li>
</ul>
<p>é‚£ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆä½•æ—¶ä¸ºç©ºå‘¢ï¼Ÿjså¼•æ“å­˜åœ¨<code>monitoring process</code>è¿›ç¨‹ï¼Œä¼šæŒç»­ä¸æ–­çš„æ£€æŸ¥ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©ºï¼Œä¸€æ—¦ä¸ºç©ºï¼Œå°±ä¼šå»<code>Event Queue</code>é‚£é‡Œæ£€æŸ¥æ˜¯å¦æœ‰ç­‰å¾…è¢«è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯jsè¿è¡Œçš„æ•´ä½“æµç¨‹</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯é™¤äº†åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œä»»åŠ¡è¿˜å¯ä»¥æ›´åŠ ç»†åˆ†ä¸ºmacrotask(å®ä»»åŠ¡)å’Œmicrotask(å¾®ä»»åŠ¡)ï¼Œjså¼•æ“ä¼šä¼˜å…ˆæ‰§è¡Œå¾®ä»»åŠ¡</p>
<blockquote>
<p>å¾®ä»»åŠ¡åŒ…æ‹¬äº† promise çš„å›è°ƒã€node ä¸­çš„ process.nextTick ã€å¯¹ Dom å˜åŒ–ç›‘å¬çš„ MutationObserverã€‚</p>
<p>å®ä»»åŠ¡åŒ…æ‹¬äº† script è„šæœ¬çš„æ‰§è¡Œã€setTimeout ï¼ŒsetInterval ï¼ŒsetImmediate ä¸€ç±»çš„å®šæ—¶äº‹ä»¶ï¼Œè¿˜æœ‰å¦‚ I/O æ“ä½œã€UI æ¸²æŸ“ç­‰ã€‚</p>
</blockquote>
<ol>
<li><p>é¦–å…ˆjs æ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œåœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œé€šè¿‡å°†ä¸åŒå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œæ ˆä¸­æ¥ä¿è¯ä»£ç çš„æœ‰åºæ‰§è¡Œã€‚</p>
</li>
<li><p>åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°äº†å¼‚æ­¥äº‹ä»¶ï¼Œjs å¼•æ“å¹¶ä¸ä¼šä¸€ç›´ç­‰å¾…å…¶è¿”å›ç»“æœï¼Œè€Œæ˜¯ä¼šå°†è¿™ä¸ªäº‹ä»¶æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œæ‰§è¡Œæ ˆä¸­çš„å…¶ä»–ä»»åŠ¡</p>
</li>
<li><p>å½“åŒæ­¥äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œå†å°†å¼‚æ­¥äº‹ä»¶å¯¹åº”çš„å›è°ƒåŠ å…¥åˆ°ä¸å½“å‰æ‰§è¡Œæ ˆä¸­ä¸åŒçš„å¦ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œã€‚</p>
</li>
<li><p>ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡å¯¹åˆ—å’Œå¾®ä»»åŠ¡å¯¹åˆ—ï¼Œå½“å½“å‰æ‰§è¡Œæ ˆä¸­çš„äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œjs å¼•æ“é¦–å…ˆä¼šåˆ¤æ–­å¾®ä»»åŠ¡å¯¹åˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼Œå¦‚æœæœ‰å°±å°†å¾®ä»»åŠ¡é˜Ÿé¦–çš„äº‹ä»¶å‹å…¥æ ˆä¸­æ‰§è¡Œã€‚</p>
</li>
<li><p>å½“å¾®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåå†å»åˆ¤æ–­å®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">  resolve()</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;);</span><br><span class="line">process.nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 5 4 3 1</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€è½®ï¼šä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œï¼Œé‡åˆ°setTimeoutï¼Œå°†setTimeoutçš„å›è°ƒå‡½æ•°ä¸¢åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œnew Promiseç«‹å³æ‰§è¡Œï¼Œè¾“å‡º2ï¼Œthençš„å›è°ƒå‡½æ•°ä¸¢åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå†ç»§ç»­æ‰§è¡Œï¼Œé‡åˆ°process.nextTickï¼ŒåŒæ ·å°†å›è°ƒå‡½æ•°æ‰”åˆ°ä¸ºä»»åŠ¡é˜Ÿåˆ—ï¼Œå†ç»§ç»­æ‰§è¡Œï¼Œè¾“å‡º5ï¼Œå½“æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆåçœ‹æœ‰æ²¡æœ‰å¯ä»¥æ‰§è¡Œçš„å¾®ä»»åŠ¡ï¼Œå‘ç°æœ‰thenå‡½æ•°å’ŒnextTickä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå“ªä¸ªå‘¢ï¼Ÿprocess.nextTickæŒ‡å®šçš„å¼‚æ­¥ä»»åŠ¡æ€»æ˜¯å‘ç”Ÿåœ¨æ‰€æœ‰å¼‚æ­¥ä»»åŠ¡ä¹‹å‰ï¼Œå› æ­¤å…ˆæ‰§è¡Œprocess.nextTickè¾“å‡º4ç„¶åæ‰§è¡Œthenå‡½æ•°è¾“å‡º3ï¼Œç¬¬ä¸€è½®æ‰§è¡Œç»“æŸã€‚ç¬¬äºŒè½®ï¼šä»å®ä»»åŠ¡é˜Ÿåˆ—å¼€å§‹ï¼Œå‘ç°setTimeoutå›è°ƒï¼Œè¾“å‡º1æ‰§è¡Œå®Œæ¯•ï¼Œå› æ­¤ç»“æœæ˜¯25431</p>
</li>
</ol>
<h5 id="ğŸŒˆV8-å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#ğŸŒˆV8-å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="ğŸŒˆV8 å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶"></a>ğŸŒˆV8 å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶</h5><blockquote>
<p>v8 çš„åƒåœ¾å›æ”¶æœºåˆ¶åŸºäºåˆ†ä»£å›æ”¶æœºåˆ¶ï¼Œè¿™ä¸ªæœºåˆ¶åˆåŸºäºä¸–ä»£å‡è¯´ï¼Œè¿™ä¸ªå‡è¯´æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼Œä¸€æ˜¯æ–°ç”Ÿçš„å¯¹è±¡å®¹æ˜“æ—©æ­»ï¼Œå¦ä¸€ä¸ªæ˜¯ä¸æ­»çš„å¯¹è±¡ä¼šæ´»å¾—æ›´ä¹…ã€‚åŸºäºè¿™ä¸ªå‡è¯´ï¼Œv8 å¼•æ“å°†å†…å­˜åˆ†ä¸ºäº†æ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ã€‚</p>
<p>æ–°åˆ›å»ºçš„å¯¹è±¡æˆ–è€…åªç»å†è¿‡ä¸€æ¬¡çš„åƒåœ¾å›æ”¶çš„å¯¹è±¡è¢«ç§°ä¸ºæ–°ç”Ÿä»£ã€‚ç»å†è¿‡å¤šæ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡è¢«ç§°ä¸ºè€ç”Ÿä»£ã€‚</p>
<p>æ–°ç”Ÿä»£è¢«åˆ†ä¸º From å’Œ To ä¸¤ä¸ªç©ºé—´ï¼ŒTo ä¸€èˆ¬æ˜¯é—²ç½®çš„ã€‚å½“ From ç©ºé—´æ»¡äº†çš„æ—¶å€™ä¼šæ‰§è¡Œ Scavenge ç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å½“æˆ‘ä»¬æ‰§è¡Œåƒåœ¾å›æ”¶ç®—æ³•çš„æ—¶å€™åº”ç”¨é€»è¾‘å°†ä¼šåœæ­¢ï¼Œç­‰åƒåœ¾å›æ”¶ç»“æŸåå†ç»§ç»­æ‰§è¡Œã€‚è¿™ä¸ªç®—æ³•åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<p>ï¼ˆ1ï¼‰é¦–å…ˆæ£€æŸ¥ From ç©ºé—´çš„å­˜æ´»å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡å­˜æ´»åˆ™åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ»¡è¶³æ™‹å‡åˆ°è€ç”Ÿä»£çš„æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶åˆ™æ™‹å‡åˆ°è€ç”Ÿä»£ã€‚å¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™ç§»åŠ¨ To ç©ºé—´ã€‚</p>
<p>ï¼ˆ2ï¼‰å¦‚æœå¯¹è±¡ä¸å­˜æ´»ï¼Œåˆ™é‡Šæ”¾å¯¹è±¡çš„ç©ºé—´ã€‚</p>
<p>ï¼ˆ3ï¼‰æœ€åå°† From ç©ºé—´å’Œ To ç©ºé—´è§’è‰²è¿›è¡Œäº¤æ¢ã€‚</p>
<p>æ–°ç”Ÿä»£å¯¹è±¡æ™‹å‡åˆ°è€ç”Ÿä»£æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š</p>
<p>ï¼ˆ1ï¼‰ç¬¬ä¸€ä¸ªæ˜¯åˆ¤æ–­æ˜¯å¯¹è±¡å¦å·²ç»ç»è¿‡ä¸€æ¬¡ Scavenge å›æ”¶ã€‚è‹¥ç»å†è¿‡ï¼Œåˆ™å°†å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶åˆ°è€ç”Ÿä»£ä¸­ï¼›è‹¥æ²¡æœ‰ç»å†ï¼Œåˆ™å¤åˆ¶åˆ° To ç©ºé—´ã€‚</p>
<p>ï¼ˆ2ï¼‰ç¬¬äºŒä¸ªæ˜¯ To ç©ºé—´çš„å†…å­˜ä½¿ç”¨å æ¯”æ˜¯å¦è¶…è¿‡é™åˆ¶ã€‚å½“å¯¹è±¡ä» From ç©ºé—´å¤åˆ¶åˆ° To ç©ºé—´æ—¶ï¼Œè‹¥ To ç©ºé—´ä½¿ç”¨è¶…è¿‡ 25%ï¼Œåˆ™å¯¹è±¡ç›´æ¥æ™‹å‡åˆ°è€ç”Ÿä»£ä¸­ã€‚è®¾ç½® 25% çš„åŸå› ä¸»è¦æ˜¯å› ä¸ºç®—æ³•ç»“æŸåï¼Œä¸¤ä¸ªç©ºé—´ç»“æŸåä¼šäº¤æ¢ä½ç½®ï¼Œå¦‚æœ To ç©ºé—´çš„å†…å­˜å¤ªå°ï¼Œä¼šå½±å“åç»­çš„å†…å­˜åˆ†é…ã€‚</p>
<p>è€ç”Ÿä»£é‡‡ç”¨äº†æ ‡è®°æ¸…é™¤æ³•å’Œæ ‡è®°å‹ç¼©æ³•ã€‚æ ‡è®°æ¸…é™¤æ³•é¦–å…ˆä¼šå¯¹å†…å­˜ä¸­å­˜æ´»çš„å¯¹è±¡è¿›è¡Œæ ‡è®°ï¼Œæ ‡è®°ç»“æŸåæ¸…é™¤æ‰é‚£äº›æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡ã€‚ç”±äºæ ‡è®°æ¸…é™¤åä¼šé€ æˆå¾ˆå¤šçš„å†…å­˜ç¢ç‰‡ï¼Œä¸ä¾¿äºåé¢çš„å†…å­˜åˆ†é…ã€‚æ‰€ä»¥ä¸ºäº†è§£å†³å†…å­˜ç¢ç‰‡çš„é—®é¢˜å¼•å…¥äº†æ ‡è®°å‹ç¼©æ³•ã€‚</p>
<p>ç”±äºåœ¨è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™ä¼šæš‚åœåº”ç”¨çš„é€»è¾‘ï¼Œå¯¹äºæ–°ç”Ÿä»£æ–¹æ³•ç”±äºå†…å­˜å°ï¼Œæ¯æ¬¡åœé¡¿çš„æ—¶é—´ä¸ä¼šå¤ªé•¿ï¼Œä½†å¯¹äºè€ç”Ÿä»£æ¥è¯´æ¯æ¬¡åƒåœ¾å›æ”¶çš„æ—¶é—´é•¿ï¼Œåœé¡¿ä¼šé€ æˆå¾ˆå¤§çš„å½±å“ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ V8 å¼•å…¥äº†å¢é‡æ ‡è®°çš„æ–¹æ³•ï¼Œå°†ä¸€æ¬¡åœé¡¿è¿›è¡Œçš„è¿‡ç¨‹åˆ†ä¸ºäº†å¤šæ­¥ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œä¸€å°æ­¥å°±è®©è¿è¡Œé€»è¾‘æ‰§è¡Œä¸€ä¼šï¼Œå°±è¿™æ ·äº¤æ›¿è¿è¡Œã€‚</p>
</blockquote>
<h5 id="ğŸˆJavascriptæ·±æµ…æ‹·è´"><a href="#ğŸˆJavascriptæ·±æµ…æ‹·è´" class="headerlink" title="ğŸˆJavascriptæ·±æµ…æ‹·è´"></a>ğŸˆJavascriptæ·±æµ…æ‹·è´</h5><ul>
<li><strong>æµ…æ‹·è´ï¼š</strong> åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŸå§‹å¯¹è±¡å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ ï¼Œæ‰€ä»¥å¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li><strong>æ·±æ‹·è´ï¼š</strong> å°†ä¸€ä¸ªå¯¹è±¡ä»å†…å­˜ä¸­å®Œæ•´çš„æ‹·è´ä¸€ä»½å‡ºæ¥,ä»å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ”¾æ–°å¯¹è±¡,ä¸”ä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šå½±å“åŸå¯¹è±¡ã€‚</li>
</ul>
<p><strong>æµ…æ‹·è´çš„å®ç°æ–¹å¼ï¼š</strong></p>
<ul>
<li><strong>Object.assign() æ–¹æ³•ï¼š</strong> ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</li>
<li><strong>Array.prototype.slice()ï¼š</strong>slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œendï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚</li>
<li><strong>æ‹“å±•è¿ç®—ç¬¦<code>...</code>ï¼š</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">    name: <span class="string">&quot;Jake&quot;</span>,</span><br><span class="line">    flag: &#123;</span><br><span class="line">        title: <span class="string">&quot;better day by day&quot;</span>,</span><br><span class="line">        time: <span class="string">&quot;2020-05-31&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123;...a&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æ·±æ‹·è´çš„å®ç°æ–¹å¼ï¼š</strong></p>
<ul>
<li><strong>ä¹ä¸ç‰ˆï¼š</strong> JSON.parse(JSON.stringify(object))ï¼Œç¼ºç‚¹è¯¸å¤šï¼ˆä¼šå¿½ç•¥undefinedã€symbolã€å‡½æ•°ï¼›ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨ï¼›ä¸èƒ½å¤„ç†æ­£åˆ™ã€new Date()ï¼‰</li>
<li><strong>åŸºç¡€ç‰ˆï¼ˆé¢è¯•å¤Ÿç”¨ï¼‰ï¼š</strong> æµ…æ‹·è´+é€’å½’ ï¼ˆåªè€ƒè™‘äº†æ™®é€šçš„ objectå’Œ arrayä¸¤ç§æ•°æ®ç±»å‹ï¼‰</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneDeep</span>(<span class="params">target,map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(typeOf taret ===<span class="string">&#x27;object&#x27;</span>)&#123;</span><br><span class="line">     <span class="keyword">let</span> cloneTarget = <span class="built_in">Array</span>.isArray(target) ? [] : &#123;&#125;;</span><br><span class="line">      </span><br><span class="line">     <span class="keyword">if</span>(map.get(target)) &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">     map.set(target, cloneTarget);</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">const</span> key <span class="keyword">in</span> target)&#123;</span><br><span class="line">        cloneTarget[key] = cloneDeep(target[key], map);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> cloneTarget</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> target</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»ˆæç‰ˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> mapTag = <span class="string">&#x27;[object Map]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> setTag = <span class="string">&#x27;[object Set]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> arrayTag = <span class="string">&#x27;[object Array]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> objectTag = <span class="string">&#x27;[object Object]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> argsTag = <span class="string">&#x27;[object Arguments]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> boolTag = <span class="string">&#x27;[object Boolean]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> dateTag = <span class="string">&#x27;[object Date]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> numberTag = <span class="string">&#x27;[object Number]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> stringTag = <span class="string">&#x27;[object String]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> symbolTag = <span class="string">&#x27;[object Symbol]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> errorTag = <span class="string">&#x27;[object Error]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> regexpTag = <span class="string">&#x27;[object RegExp]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> funcTag = <span class="string">&#x27;[object Function]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> deepTag = [mapTag, setTag, arrayTag, objectTag, argsTag];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">forEach</span>(<span class="params">array, iteratee</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> index = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> length = array.length;</span><br><span class="line">    <span class="keyword">while</span> (++index &lt; length) &#123;</span><br><span class="line">        iteratee(array[index], index);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isObject</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> type = <span class="keyword">typeof</span> target;</span><br><span class="line">    <span class="keyword">return</span> target !== <span class="literal">null</span> &amp;&amp; (type === <span class="string">&#x27;object&#x27;</span> || type === <span class="string">&#x27;function&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInit</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> Ctor = target.constructor;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Ctor();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneSymbol</span>(<span class="params">targe</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>(<span class="built_in">Symbol</span>.prototype.valueOf.call(targe));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneReg</span>(<span class="params">targe</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> reFlags = <span class="regexp">/\w*$/</span>;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">new</span> targe.constructor(targe.source, reFlags.exec(targe));</span><br><span class="line">    result.lastIndex = targe.lastIndex;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneFunction</span>(<span class="params">func</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> bodyReg = <span class="regexp">/(?&lt;=&#123;)(.|\n)+(?=&#125;)/m</span>;</span><br><span class="line">    <span class="keyword">const</span> paramReg = <span class="regexp">/(?&lt;=\().+(?=\)\s+&#123;)/</span>;</span><br><span class="line">    <span class="keyword">const</span> funcString = func.toString();</span><br><span class="line">    <span class="keyword">if</span> (func.prototype) &#123;</span><br><span class="line">        <span class="keyword">const</span> param = paramReg.exec(funcString);</span><br><span class="line">        <span class="keyword">const</span> body = bodyReg.exec(funcString);</span><br><span class="line">        <span class="keyword">if</span> (body) &#123;</span><br><span class="line">            <span class="keyword">if</span> (param) &#123;</span><br><span class="line">                <span class="keyword">const</span> paramArr = param[<span class="number">0</span>].split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(...paramArr, body[<span class="number">0</span>]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(body[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">eval</span>(funcString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cloneOtherType</span>(<span class="params">targe, type</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> Ctor = targe.constructor;</span><br><span class="line">    <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">        <span class="keyword">case</span> boolTag:</span><br><span class="line">        <span class="keyword">case</span> numberTag:</span><br><span class="line">        <span class="keyword">case</span> stringTag:</span><br><span class="line">        <span class="keyword">case</span> errorTag:</span><br><span class="line">        <span class="keyword">case</span> dateTag:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Ctor(targe);</span><br><span class="line">        <span class="keyword">case</span> regexpTag:</span><br><span class="line">            <span class="keyword">return</span> cloneReg(targe);</span><br><span class="line">        <span class="keyword">case</span> symbolTag:</span><br><span class="line">            <span class="keyword">return</span> cloneSymbol(targe);</span><br><span class="line">        <span class="keyword">case</span> funcTag:</span><br><span class="line">            <span class="keyword">return</span> cloneFunction(targe);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target, map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…‹éš†åŸå§‹ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> (!isObject(target)) &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">const</span> type = getType(target);</span><br><span class="line">    <span class="keyword">let</span> cloneTarget;</span><br><span class="line">    <span class="keyword">if</span> (deepTag.includes(type)) &#123;</span><br><span class="line">        cloneTarget = getInit(target, type);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cloneOtherType(target, type);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜²æ­¢å¾ªç¯å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">if</span> (map.get(target)) &#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(target);</span><br><span class="line">    &#125;</span><br><span class="line">    map.set(target, cloneTarget);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…‹éš†set</span></span><br><span class="line">    <span class="keyword">if</span> (type === setTag) &#123;</span><br><span class="line">        target.forEach(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">            cloneTarget.add(clone(value, map));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…‹éš†map</span></span><br><span class="line">    <span class="keyword">if</span> (type === mapTag) &#123;</span><br><span class="line">        target.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">            cloneTarget.set(key, clone(value, map));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…‹éš†å¯¹è±¡å’Œæ•°ç»„</span></span><br><span class="line">    <span class="keyword">const</span> keys = type === arrayTag ? <span class="literal">undefined</span> : <span class="built_in">Object</span>.keys(target);</span><br><span class="line">    forEach(keys || target, <span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (keys) &#123;</span><br><span class="line">            key = value;</span><br><span class="line">        &#125;</span><br><span class="line">        cloneTarget[key] = clone(target[key], map);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cloneTarget;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    clone</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆå‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#ğŸˆå‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="ğŸˆå‡½æ•°æŸ¯é‡ŒåŒ–"></a>ğŸˆå‡½æ•°æŸ¯é‡ŒåŒ–</h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ä¸€ç§å°†ä½¿ç”¨å¤šä¸ªå‚æ•°çš„ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—ä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°çš„æŠ€æœ¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fn, args</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–å‡½æ•°éœ€è¦çš„å‚æ•°é•¿åº¦</span></span><br><span class="line">  <span class="keyword">let</span> length = fn.length;</span><br><span class="line"></span><br><span class="line">  args = args || [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> subArgs = args.slice(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹¼æ¥å¾—åˆ°ç°æœ‰çš„æ‰€æœ‰å‚æ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">arguments</span>.length; i++) &#123;</span><br><span class="line">      subArgs.push(<span class="built_in">arguments</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å‚æ•°çš„é•¿åº¦æ˜¯å¦å·²ç»æ»¡è¶³å‡½æ•°æ‰€éœ€å‚æ•°çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span> (subArgs.length &gt;= length) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœæ»¡è¶³ï¼Œæ‰§è¡Œå‡½æ•°</span></span><br><span class="line">      <span class="keyword">return</span> fn.apply(<span class="built_in">this</span>, subArgs);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœä¸æ»¡è¶³ï¼Œé€’å½’è¿”å›ç§‘é‡ŒåŒ–çš„å‡½æ•°ï¼Œç­‰å¾…å‚æ•°çš„ä¼ å…¥</span></span><br><span class="line">      <span class="keyword">return</span> curry.call(<span class="built_in">this</span>, fn, subArgs);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// es6 å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fn, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> fn.length &lt;= args.length ? fn(...args) : curry.bind(<span class="literal">null</span>, fn, ...args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆnewæ“ä½œç¬¦"><a href="#ğŸˆnewæ“ä½œç¬¦" class="headerlink" title="ğŸˆnewæ“ä½œç¬¦"></a>ğŸˆnewæ“ä½œç¬¦</h5><p><code>new</code> è¿ç®—ç¬¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„å¯¹è±¡ç±»å‹çš„å®ä¾‹æˆ–å…·æœ‰æ„é€ å‡½æ•°çš„å†…ç½®å¯¹è±¡çš„å®ä¾‹ã€‚<code>new</code> å…³é”®å­—ä¼šè¿›è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{}ï¼‰ï¼›</li>
<li>é“¾æ¥è¯¥å¯¹è±¡ï¼ˆå³è®¾ç½®è¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼‰åˆ°å¦ä¸€ä¸ªå¯¹è±¡ ï¼›</li>
<li>å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡ ï¼›</li>
<li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name, color, age</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.color = color;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype=&#123;</span><br><span class="line">  getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dog = <span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§ç™½&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªç®€å•ç©ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒæ­¥ï¼šé“¾æ¥è¯¥å¯¹è±¡åˆ°å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆåŸå‹é“¾ï¼‰</span></span><br><span class="line">obj.__proto__ = Dog.prototype <span class="comment">// è®¾ç½®åŸå‹é“¾ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰æ­¥ï¼šå°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸º this çš„ä¸Šä¸‹æ–‡</span></span><br><span class="line">Dog.apply(obj, [<span class="string">&#x27;å¤§ç™½&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="number">3</span>]) <span class="comment">// thisæŒ‡å‘objå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬å››æ­¥ï¼šå¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›this</span></span><br><span class="line"><span class="comment">// å› ä¸º Dog() æ²¡æœ‰è¿”å›å€¼ï¼Œæ‰€ä»¥è¿”å›obj</span></span><br><span class="line"><span class="keyword">var</span> dog = obj</span><br><span class="line">dog.getName() </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objectFactory</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="comment">//å–å¾—è¯¥æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°(å¹¶åˆ é™¤ç¬¬ä¸€ä¸ªå‚æ•°)ï¼Œè¯¥å‚æ•°æ˜¯æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">var</span> Constructor = [].shift.apply(<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="comment">//å°†æ–°å¯¹è±¡çš„å†…éƒ¨å±æ€§__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ï¼Œè¿™æ ·æ–°å¯¹è±¡å°±å¯ä»¥è®¿é—®åŸå‹ä¸­çš„å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">    obj.__proto__ = Constructor.prototype;</span><br><span class="line">    <span class="comment">//å–å¾—æ„é€ å‡½æ•°çš„è¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">var</span> ret = Constructor.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">    <span class="comment">//å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡å°±è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™è¿”å›æ„é€ å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> ret === <span class="string">&quot;object&quot;</span> ? ret : obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆPromiseï¼Œæ‰‹å†™å®ç°"><a href="#ğŸˆPromiseï¼Œæ‰‹å†™å®ç°" class="headerlink" title="ğŸˆPromiseï¼Œæ‰‹å†™å®ç°"></a>ğŸˆPromiseï¼Œæ‰‹å†™å®ç°</h5><p>Promiseï¼Œç¿»è¯‘è¿‡æ¥æ˜¯æ‰¿è¯ºï¼Œæ‰¿è¯ºå®ƒè¿‡ä¸€æ®µæ—¶é—´ä¼šç»™ä½ ä¸€ä¸ªç»“æœã€‚ä»ç¼–ç¨‹è®²Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ä¸‹é¢æ˜¯Promiseåœ¨MDNçš„ç›¸å…³è¯´æ˜ï¼š</p>
<p>Promise å¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼ˆä»£ç†ä¸€ä¸ªå€¼ï¼‰ï¼Œè¢«ä»£ç†çš„å€¼åœ¨Promiseå¯¹è±¡åˆ›å»ºæ—¶å¯èƒ½æ˜¯æœªçŸ¥çš„ã€‚å®ƒå…è®¸ä½ ä¸ºå¼‚æ­¥æ“ä½œçš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šç›¸åº”çš„å¤„ç†æ–¹æ³•ï¼ˆhandlersï¼‰ã€‚è¿™è®©å¼‚æ­¥æ–¹æ³•å¯ä»¥åƒåŒæ­¥æ–¹æ³•é‚£æ ·è¿”å›å€¼ï¼Œä½†å¹¶ä¸æ˜¯ç«‹å³è¿”å›æœ€ç»ˆæ‰§è¡Œç»“æœï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ä»£è¡¨æœªæ¥å‡ºç°çš„ç»“æœçš„promiseå¯¹è±¡ã€‚</p>
<p>ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:</p>
<ul>
<li>pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚</li>
<li>fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li>
<li>rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li>
</ul>
<p>è¿™ä¸ªæ‰¿è¯ºä¸€æ—¦ä»ç­‰å¾…çŠ¶æ€å˜æˆä¸ºå…¶ä»–çŠ¶æ€å°±æ°¸è¿œä¸èƒ½æ›´æ”¹çŠ¶æ€äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦çŠ¶æ€å˜ä¸º fulfilled/rejected åï¼Œå°±ä¸èƒ½å†æ¬¡æ”¹å˜ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolveï¼Œreject</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">            resolve()</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">        </span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">        &#125;,<span class="number">2000</span>)</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">        &#125;,<span class="number">3000</span>)</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>promiseæ‰‹å†™å®ç°ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myPromise</span>(<span class="params">constructor</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> self=<span class="built_in">this</span>;</span><br><span class="line">    self.status=<span class="string">&quot;pending&quot;</span> <span class="comment">//å®šä¹‰çŠ¶æ€æ”¹å˜å‰çš„åˆå§‹çŠ¶æ€</span></span><br><span class="line">    self.value=<span class="literal">undefined</span>;<span class="comment">//å®šä¹‰çŠ¶æ€ä¸ºresolvedçš„æ—¶å€™çš„çŠ¶æ€</span></span><br><span class="line">    self.reason=<span class="literal">undefined</span>;<span class="comment">//å®šä¹‰çŠ¶æ€ä¸ºrejectedçš„æ—¶å€™çš„çŠ¶æ€</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸¤ä¸ª===&quot;pending&quot;ï¼Œä¿è¯äº†çŠ¶æ€çš„æ”¹å˜æ˜¯ä¸å¯é€†çš„</span></span><br><span class="line">       <span class="keyword">if</span>(self.status===<span class="string">&quot;pending&quot;</span>)&#123;</span><br><span class="line">          self.value=value;</span><br><span class="line">          self.status=<span class="string">&quot;resolved&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸¤ä¸ª===&quot;pending&quot;ï¼Œä¿è¯äº†çŠ¶æ€çš„æ”¹å˜æ˜¯ä¸å¯é€†çš„</span></span><br><span class="line">       <span class="keyword">if</span>(self.status===<span class="string">&quot;pending&quot;</span>)&#123;</span><br><span class="line">          self.reason=reason;</span><br><span class="line">          self.status=<span class="string">&quot;rejected&quot;</span>;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ•è·æ„é€ å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">       <span class="title">constructor</span>(<span class="params">resolve,reject</span>);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">       reject(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®šä¹‰é“¾å¼è°ƒç”¨çš„thenæ–¹æ³•</span></span><br><span class="line">myPromise.prototype.then=<span class="function"><span class="keyword">function</span>(<span class="params">onFullfilled,onRejected</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">let</span> self=<span class="built_in">this</span>;</span><br><span class="line">   <span class="keyword">switch</span>(self.status)&#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;resolved&quot;</span>:</span><br><span class="line">        onFullfilled(self.value);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&quot;rejected&quot;</span>:</span><br><span class="line">        onRejected(self.reason);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">default</span>:       </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆIterator-ä¸-Generatorå‡½æ•°"><a href="#ğŸˆIterator-ä¸-Generatorå‡½æ•°" class="headerlink" title="ğŸˆIterator ä¸ Generatorå‡½æ•°"></a>ğŸˆIterator ä¸ Generatorå‡½æ•°</h5><p>Iteratorï¼ˆè¿­ä»£å™¨ï¼‰æ˜¯ä¸€ç§æ¥å£ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§è§„èŒƒã€‚ä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²Iteratoræ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œï¼ˆå³ä¾æ¬¡å¤„ç†è¯¥æ•°æ®ç»“æ„çš„æ‰€æœ‰æˆå‘˜ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">    [Symbol.iterator]:function()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>[Symbol.iterator]</code> å±æ€§åæ˜¯å›ºå®šçš„å†™æ³•ï¼Œåªè¦æ‹¥æœ‰äº†è¯¥å±æ€§çš„å¯¹è±¡ï¼Œå°±èƒ½å¤Ÿç”¨è¿­ä»£å™¨çš„æ–¹å¼è¿›è¡Œéå†ã€‚</p>
<p>è¿­ä»£å™¨çš„éå†æ–¹æ³•æ˜¯é¦–å…ˆè·å¾—ä¸€ä¸ªè¿­ä»£å™¨çš„æŒ‡é’ˆï¼Œåˆå§‹æ—¶è¯¥æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€æ¡æ•°æ®ä¹‹å‰ï¼Œæ¥ç€é€šè¿‡è°ƒç”¨ next æ–¹æ³•ï¼Œæ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œè®©å…¶æŒ‡å‘ä¸‹ä¸€æ¡æ•°æ® æ¯ä¸€æ¬¡çš„ next éƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§</p>
<ul>
<li>value ä»£è¡¨æƒ³è¦è·å–çš„æ•°æ®</li>
<li>done å¸ƒå°”å€¼ï¼Œfalseè¡¨ç¤ºå½“å‰æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®æœ‰å€¼ï¼Œtrueè¡¨ç¤ºéå†å·²ç»ç»“æŸ</li>
</ul>
<p><strong>Iterator çš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼š</strong></p>
<ol>
<li>ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£ï¼›</li>
<li>ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—ï¼›</li>
<li>ES6 åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤forâ€¦ofå¾ªç¯ï¼ŒIterator æ¥å£ä¸»è¦ä¾›forâ€¦ofæ¶ˆè´¹ã€‚</li>
</ol>
<p><strong>éå†è¿‡ç¨‹ï¼š</strong></p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚</li>
<li>ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚</li>
<li>ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼ŒæŒ‡é’ˆå°±æŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬äºŒä¸ªæˆå‘˜ã€‚</li>
<li>ä¸æ–­è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œç›´åˆ°å®ƒæŒ‡å‘æ•°æ®ç»“æ„çš„ç»“æŸä½ç½®ã€‚</li>
</ol>
<p>æ¯ä¸€æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œéƒ½ä¼šè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜çš„ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œvalueå±æ€§æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [&#123;<span class="attr">num</span>:<span class="number">1</span>&#125;,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> it = arr[<span class="built_in">Symbol</span>.iterator]() <span class="comment">// è·å–æ•°ç»„ä¸­çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: Object &#123; num: 1 &#125;, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>



<p>Generatorå‡½æ•°å¯ä»¥è¯´æ˜¯Iteratoræ¥å£çš„å…·ä½“å®ç°æ–¹å¼ã€‚Generator æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥æ§åˆ¶å‡½æ•°çš„æ‰§è¡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x + <span class="number">1</span>))</span><br><span class="line">  <span class="keyword">let</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>)</span><br><span class="line">  <span class="keyword">return</span> (x + y + z)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = foo(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">console</span>.log(it.next())   <span class="comment">// =&gt; &#123;value: 6, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next(<span class="number">12</span>)) <span class="comment">// =&gt; &#123;value: 8, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next(<span class="number">13</span>)) <span class="comment">// =&gt; &#123;value: 42, done: true&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªç¤ºä¾‹å°±æ˜¯ä¸€ä¸ªGeneratorå‡½æ•°ï¼Œæˆ‘ä»¬æ¥åˆ†æå…¶æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<blockquote>
<ul>
<li><code>é¦–å…ˆ Generator å‡½æ•°è°ƒç”¨æ—¶å®ƒä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨</code></li>
<li><code>å½“æ‰§è¡Œç¬¬ä¸€æ¬¡ next æ—¶ï¼Œä¼ å‚ä¼šè¢«å¿½ç•¥ï¼Œå¹¶ä¸”å‡½æ•°æš‚åœåœ¨ yield (x + 1) å¤„ï¼Œæ‰€ä»¥è¿”å› 5 + 1 = 6</code></li>
<li><code>å½“æ‰§è¡Œç¬¬äºŒæ¬¡ next æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ç­‰äºä¸Šä¸€ä¸ª yield çš„è¿”å›å€¼ï¼Œå¦‚æœä½ ä¸ä¼ å‚ï¼Œyield æ°¸è¿œè¿”å› undefinedã€‚æ­¤æ—¶ let y = 2 * 12ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª yield ç­‰äº 2 * 12 / 3 = 8</code></li>
<li><code>å½“æ‰§è¡Œç¬¬ä¸‰æ¬¡ next æ—¶ï¼Œä¼ å…¥çš„å‚æ•°ä¼šä¼ é€’ç»™ zï¼Œæ‰€ä»¥ z = 13, x = 5, y = 24ï¼Œç›¸åŠ ç­‰äº 42</code></li>
</ul>
</blockquote>
<h5 id="ğŸˆasync-await"><a href="#ğŸˆasync-await" class="headerlink" title="ğŸˆasync/await"></a>ğŸˆasync/await</h5><p><code>async/await</code>æ˜¯ä¸€ç§å»ºç«‹åœ¨Promiseä¹‹ä¸Šçš„ç¼–å†™å¼‚æ­¥æˆ–éé˜»å¡ä»£ç çš„æ–°æ–¹æ³•ï¼Œè¢«æ™®éè®¤ä¸ºæ˜¯ JSå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆä¸”æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚ç›¸å¯¹äº Promise å’Œå›è°ƒï¼Œå®ƒçš„å¯è¯»æ€§å’Œç®€æ´åº¦éƒ½æ›´é«˜ã€‚æ¯•ç«Ÿä¸€ç›´then()ä¹Ÿå¾ˆçƒ¦ã€‚</p>
<p><code>async</code> æ˜¯å¼‚æ­¥çš„æ„æ€ï¼Œè€Œ <code>await</code> æ˜¯ <code>async wait</code>çš„ç®€å†™ï¼Œå³å¼‚æ­¥ç­‰å¾…ã€‚</p>
<p>æ‰€ä»¥ä»è¯­ä¹‰ä¸Šå°±å¾ˆå¥½ç†è§£ async ç”¨äºå£°æ˜ä¸€ä¸ª function æ˜¯å¼‚æ­¥çš„ï¼Œè€Œawait ç”¨äºç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•æ‰§è¡Œå®Œæˆã€‚</p>
<p>ä¸€ä¸ªå‡½æ•°å¦‚æœåŠ ä¸Š async ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±ä¼šè¿”å›ä¸€ä¸ª Promise</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test()) <span class="comment">// -&gt; Promise &#123;&lt;resolved&gt;: &quot;1&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p>async å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœåœ¨ async å‡½æ•°ä¸­ç›´æ¥ return ä¸€ä¸ªç›´æ¥é‡ï¼Œasync ä¼šæŠŠè¿™ä¸ªç›´æ¥é‡é€šè¿‡ <code>PromIse.resolve()</code> å°è£…æˆPromiseå¯¹è±¡è¿”å›ã€‚</p>
<p>ç›¸æ¯”äº <code>Promise</code>ï¼Œ<code>async/await</code>èƒ½æ›´å¥½åœ°å¤„ç† then é“¾</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takeLongTime</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> resolve(n + <span class="number">200</span>), n);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step1</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`step1 with <span class="subst">$&#123;n&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> takeLongTime(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step2</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`step2 with <span class="subst">$&#123;n&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> takeLongTime(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">step3</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`step3 with <span class="subst">$&#123;n&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> takeLongTime(n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨Promise</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doIt</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&quot;doIt&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> time1 = <span class="number">300</span>;</span><br><span class="line">    step1(time1)</span><br><span class="line">        .then(<span class="function"><span class="params">time2</span> =&gt;</span> step2(time2))</span><br><span class="line">        .then(<span class="function"><span class="params">time3</span> =&gt;</span> step3(time3))</span><br><span class="line">        .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`result is <span class="subst">$&#123;result&#125;</span>`</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">&#125;</span><br><span class="line">doIt();</span><br><span class="line"><span class="comment">// step1 with 300</span></span><br><span class="line"><span class="comment">// step2 with 500</span></span><br><span class="line"><span class="comment">// step3 with 700</span></span><br><span class="line"><span class="comment">// result is 900</span></span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨<code>async/await</code></strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">doIt</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.time(<span class="string">&quot;doIt&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> time1 = <span class="number">300</span>;</span><br><span class="line">    <span class="keyword">const</span> time2 = <span class="keyword">await</span> step1(time1);</span><br><span class="line">    <span class="keyword">const</span> time3 = <span class="keyword">await</span> step2(time2);</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> step3(time3);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`result is <span class="subst">$&#123;result&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line">doIt();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>awaitå…³é”®å­—åªèƒ½åœ¨async functionä¸­ä½¿ç”¨ã€‚åœ¨ä»»ä½•éasync functionçš„å‡½æ•°ä¸­ä½¿ç”¨awaitå…³é”®å­—éƒ½ä¼šæŠ›å‡ºé”™è¯¯ã€‚awaitå…³é”®å­—åœ¨æ‰§è¡Œä¸‹ä¸€è¡Œä»£ç ä¹‹å‰ç­‰å¾…å³ä¾§è¡¨è¾¾å¼(å¯èƒ½æ˜¯ä¸€ä¸ªPromise)è¿”å›ã€‚</p>
</blockquote>
<p><strong>ä¼˜ç¼ºç‚¹ï¼š</strong></p>
<p><code>async/await</code>çš„ä¼˜åŠ¿åœ¨äºå¤„ç† then çš„è°ƒç”¨é“¾ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°å‡†ç¡®çš„å†™å‡ºä»£ç ï¼Œå¹¶ä¸”ä¹Ÿèƒ½ä¼˜é›…åœ°è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ã€‚å½“ç„¶ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œå› ä¸º await å°†å¼‚æ­¥ä»£ç æ”¹é€ æˆäº†åŒæ­¥ä»£ç ï¼Œå¦‚æœå¤šä¸ªå¼‚æ­¥ä»£ç æ²¡æœ‰ä¾èµ–æ€§å´ä½¿ç”¨äº† await ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„é™ä½ã€‚</p>
<h5 id="ğŸˆJavascriptèŠ‚æµä¸é˜²æŠ–"><a href="#ğŸˆJavascriptèŠ‚æµä¸é˜²æŠ–" class="headerlink" title="ğŸˆJavascriptèŠ‚æµä¸é˜²æŠ–"></a>ğŸˆJavascriptèŠ‚æµä¸é˜²æŠ–</h5><p><strong>å‡½æ•°é˜²æŠ–</strong> æ˜¯æŒ‡åœ¨äº‹ä»¶è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚è¿™å¯ä»¥ä½¿ç”¨åœ¨ä¸€äº›ç‚¹å‡»è¯·æ±‚çš„äº‹ä»¶ä¸Šï¼Œé¿å…å› ä¸ºç”¨æˆ·çš„å¤šæ¬¡ç‚¹å‡»å‘åç«¯å‘é€å¤šæ¬¡è¯·æ±‚ã€‚</p>
<p><strong>å‡½æ•°èŠ‚æµ</strong> æ˜¯æŒ‡è§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚èŠ‚æµå¯ä»¥ä½¿ç”¨åœ¨ scroll å‡½æ•°çš„äº‹ä»¶ç›‘å¬ä¸Šï¼Œé€šè¿‡äº‹ä»¶èŠ‚æµæ¥é™ä½äº‹ä»¶è°ƒç”¨çš„é¢‘ç‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°é˜²æŠ–çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="built_in">this</span>,</span><br><span class="line">      args = <span class="built_in">arguments</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ­¤æ—¶å­˜åœ¨å®šæ—¶å™¨çš„è¯ï¼Œåˆ™å–æ¶ˆä¹‹å‰çš„å®šæ—¶å™¨é‡æ–°è®°æ—¶</span></span><br><span class="line">    <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">      timer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å®šæ—¶å™¨ï¼Œä½¿äº‹ä»¶é—´éš”æŒ‡å®šäº‹ä»¶åæ‰§è¡Œ</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.apply(context, args);</span><br><span class="line">    &#125;, wait);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°èŠ‚æµçš„å®ç°;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> preTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="built_in">this</span>,</span><br><span class="line">      args = <span class="built_in">arguments</span>,</span><br><span class="line">      nowTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœä¸¤æ¬¡æ—¶é—´é—´éš”è¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œåˆ™æ‰§è¡Œå‡½æ•°ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (nowTime - preTime &gt;= delay) &#123;</span><br><span class="line">      preTime = <span class="built_in">Date</span>.now();</span><br><span class="line">      <span class="keyword">return</span> fn.apply(context, args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="ğŸˆè®¾è®¡æ¨¡å¼"><a href="#ğŸˆè®¾è®¡æ¨¡å¼" class="headerlink" title="ğŸˆè®¾è®¡æ¨¡å¼"></a>ğŸˆè®¾è®¡æ¨¡å¼</h5><h6 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h6><p>è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€‚æ¯«æ— ç–‘é—®ï¼Œè®¾è®¡æ¨¡å¼äºå·±äºä»–äººäºç³»ç»Ÿéƒ½æ˜¯å¤šèµ¢çš„ï¼Œè®¾è®¡æ¨¡å¼ä½¿ä»£ç ç¼–åˆ¶çœŸæ­£å·¥ç¨‹åŒ–ï¼Œè®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å·¥ç¨‹çš„åŸºçŸ³ï¼Œå¦‚åŒå¤§å¦çš„ä¸€å—å—ç –çŸ³ä¸€æ ·ã€‚</p>
<h6 id="è®¾è®¡åŸåˆ™"><a href="#è®¾è®¡åŸåˆ™" class="headerlink" title="è®¾è®¡åŸåˆ™"></a>è®¾è®¡åŸåˆ™</h6><ol>
<li><p><strong>S â€“ Single Responsibility Principle å•ä¸€èŒè´£åŸåˆ™</strong></p>
</li>
<li><ul>
<li>ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹</li>
<li>å¦‚æœåŠŸèƒ½è¿‡äºå¤æ‚å°±æ‹†åˆ†å¼€ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¿æŒç‹¬ç«‹</li>
</ul>
</li>
<li><p><strong>O â€“ OpenClosed Principle å¼€æ”¾/å°é—­åŸåˆ™</strong></p>
</li>
<li><ul>
<li>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­</li>
<li>å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç </li>
</ul>
</li>
<li><p><strong>L â€“ Liskov Substitution Principle é‡Œæ°æ›¿æ¢åŸåˆ™</strong></p>
</li>
<li><ul>
<li>å­ç±»èƒ½è¦†ç›–çˆ¶ç±»</li>
<li>çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç°</li>
</ul>
</li>
<li><p><strong>I â€“ Interface Segregation Principle æ¥å£éš”ç¦»åŸåˆ™</strong></p>
</li>
<li><ul>
<li>ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹</li>
<li>ç±»ä¼¼å•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™é‡Œæ›´å…³æ³¨æ¥å£</li>
</ul>
</li>
<li><p><strong>D â€“ Dependency Inversion Principle ä¾èµ–å€’è½¬åŸåˆ™</strong></p>
</li>
<li><ul>
<li>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·</li>
<li>ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°</li>
</ul>
</li>
</ol>
<h6 id="è®¾è®¡æ¨¡å¼çš„ç±»å‹"><a href="#è®¾è®¡æ¨¡å¼çš„ç±»å‹" class="headerlink" title="è®¾è®¡æ¨¡å¼çš„ç±»å‹"></a>è®¾è®¡æ¨¡å¼çš„ç±»å‹</h6><ol>
<li><strong>ç»“æ„å‹æ¨¡å¼ï¼ˆStructural Patternsï¼‰ï¼š</strong> é€šè¿‡è¯†åˆ«ç³»ç»Ÿä¸­ç»„ä»¶é—´çš„ç®€å•å…³ç³»æ¥ç®€åŒ–ç³»ç»Ÿçš„è®¾è®¡ã€‚</li>
<li><strong>åˆ›å»ºå‹æ¨¡å¼ï¼ˆCreational Patternsï¼‰ï¼š</strong> å¤„ç†å¯¹è±¡çš„åˆ›å»ºï¼Œæ ¹æ®å®é™…æƒ…å†µä½¿ç”¨åˆé€‚çš„æ–¹å¼åˆ›å»ºå¯¹è±¡ã€‚å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹å¼å¯èƒ½ä¼šå¯¼è‡´è®¾è®¡ä¸Šçš„é—®é¢˜ï¼Œæˆ–å¢åŠ è®¾è®¡çš„å¤æ‚åº¦ã€‚åˆ›å»ºå‹æ¨¡å¼é€šè¿‡ä»¥æŸç§æ–¹å¼æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºæ¥è§£å†³é—®é¢˜ã€‚</li>
<li><strong>è¡Œä¸ºå‹æ¨¡å¼ï¼ˆBehavioral Patternsï¼‰ï¼š</strong> ç”¨äºè¯†åˆ«å¯¹è±¡ä¹‹é—´å¸¸è§çš„äº¤äº’æ¨¡å¼å¹¶åŠ ä»¥å®ç°ï¼Œå¦‚æ­¤ï¼Œå¢åŠ äº†è¿™äº›äº¤äº’çš„çµæ´»æ€§ã€‚</li>
</ol>
<h6 id="9ç§å‰ç«¯å¸¸è§çš„è®¾è®¡æ¨¡å¼"><a href="#9ç§å‰ç«¯å¸¸è§çš„è®¾è®¡æ¨¡å¼" class="headerlink" title="9ç§å‰ç«¯å¸¸è§çš„è®¾è®¡æ¨¡å¼"></a>9ç§å‰ç«¯å¸¸è§çš„è®¾è®¡æ¨¡å¼</h6><p><code>1. å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</code></p>
<p>   å¤–è§‚æ¨¡å¼æ˜¯æœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œå®ƒä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªç»Ÿä¸€çš„é«˜å±‚æ¥å£ï¼Œä½¿å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚ç®€è€Œè¨€ä¹‹å¤–è§‚è®¾è®¡æ¨¡å¼å°±æ˜¯æŠŠå¤šä¸ªå­ç³»ç»Ÿä¸­å¤æ‚é€»è¾‘è¿›è¡ŒæŠ½è±¡ï¼Œä»è€Œæä¾›ä¸€ä¸ªæ›´ç»Ÿä¸€ã€æ›´ç®€æ´ã€æ›´æ˜“ç”¨çš„APIã€‚å¾ˆå¤šæˆ‘ä»¬å¸¸ç”¨çš„æ¡†æ¶å’Œåº“åŸºæœ¬éƒ½éµå¾ªäº†å¤–è§‚è®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚JQueryå°±æŠŠå¤æ‚çš„åŸç”ŸDOMæ“ä½œè¿›è¡Œäº†æŠ½è±¡å’Œå°è£…ï¼Œå¹¶æ¶ˆé™¤äº†æµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹é—®é¢˜ï¼Œä»è€Œæä¾›äº†ä¸€ä¸ªæ›´é«˜çº§æ›´æ˜“ç”¨çš„ç‰ˆæœ¬ã€‚å…¶å®åœ¨å¹³æ—¶å·¥ä½œä¸­æˆ‘ä»¬ä¹Ÿä¼šç»å¸¸ç”¨åˆ°å¤–è§‚æ¨¡å¼è¿›è¡Œå¼€å‘ï¼Œåªæ˜¯æˆ‘ä»¬ä¸è‡ªçŸ¥è€Œå·²ã€‚</p>
<ul>
<li><p>å…¼å®¹æµè§ˆå™¨äº‹ä»¶ç»‘å®š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> addMyEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, ev, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (el.addEventListener) &#123;</span><br><span class="line">        el.addEventListener(ev, fn, <span class="literal">false</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.attachEvent) &#123;</span><br><span class="line">        el.attachEvent(<span class="string">&#x27;on&#x27;</span> + ev, fn)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        el[<span class="string">&#x27;on&#x27;</span> + ev] = fn</span><br><span class="line">    &#125;</span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure></li>
<li><p>å°è£…æ¥å£</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myEvent = &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">   stop: <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">       e.stopPropagation();</span><br><span class="line">       e.preventDefault();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>åœºæ™¯</strong></p>
<ul>
<li>è®¾è®¡åˆæœŸï¼Œåº”è¯¥è¦æœ‰æ„è¯†åœ°å°†ä¸åŒçš„ä¸¤ä¸ªå±‚åˆ†ç¦»ï¼Œæ¯”å¦‚ç»å…¸çš„ä¸‰å±‚ç»“æ„ï¼Œåœ¨æ•°æ®è®¿é—®å±‚å’Œä¸šåŠ¡é€»è¾‘å±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œè¡¨ç¤ºå±‚ä¹‹é—´å»ºç«‹å¤–è§‚Facade</li>
<li>åœ¨å¼€å‘é˜¶æ®µï¼Œå­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­çš„é‡æ„æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¢åŠ å¤–è§‚Facadeå¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„æ¥å£ï¼Œå‡å°‘ä»–ä»¬ä¹‹é—´çš„ä¾èµ–ã€‚</li>
<li>åœ¨ç»´æŠ¤ä¸€ä¸ªé—ç•™çš„å¤§å‹ç³»ç»Ÿæ—¶ï¼Œå¯èƒ½è¿™ä¸ªç³»ç»Ÿå·²ç»å¾ˆéš¾ç»´æŠ¤äº†ï¼Œè¿™æ—¶å€™ä½¿ç”¨å¤–è§‚Facadeä¹Ÿæ˜¯éå¸¸åˆé€‚çš„ï¼Œä¸ºç³»ç³»ç»Ÿå¼€å‘ä¸€ä¸ªå¤–è§‚Facadeç±»ï¼Œä¸ºè®¾è®¡ç²—ç³™å’Œé«˜åº¦å¤æ‚çš„é—ç•™ä»£ç æä¾›æ¯”è¾ƒæ¸…æ™°çš„æ¥å£ï¼Œè®©æ–°ç³»ç»Ÿå’ŒFacadeå¯¹è±¡äº¤äº’ï¼ŒFacadeä¸é—ç•™ä»£ç äº¤äº’æ‰€æœ‰çš„å¤æ‚å·¥ä½œã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>å‡å°‘ç³»ç»Ÿç›¸äº’ä¾èµ–ã€‚</li>
<li>æé«˜çµæ´»æ€§ã€‚</li>
<li>æé«˜äº†å®‰å…¨æ€§</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä¸ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå¦‚æœè¦æ”¹ä¸œè¥¿å¾ˆéº»çƒ¦ï¼Œç»§æ‰¿é‡å†™éƒ½ä¸åˆé€‚ã€‚</li>
</ul>
<p><code>2. ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</code></p>
<p>æ˜¯ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p>
<blockquote>
<p>å‡è®¾å½“A åœ¨å¿ƒæƒ…å¥½çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½æˆåŠŸçš„å‡ ç‡æœ‰ 60%ï¼Œè€Œå½“A åœ¨å¿ƒæƒ…å·®çš„æ—¶å€™æ”¶åˆ°èŠ±ï¼Œå°æ˜è¡¨ç™½çš„æˆåŠŸç‡æ— é™è¶‹è¿‘äº0ã€‚å°æ˜è·ŸA åˆšåˆšè®¤è¯†ä¸¤å¤©ï¼Œè¿˜æ— æ³•è¾¨åˆ«A ä»€ä¹ˆæ—¶å€™å¿ƒæƒ…å¥½ã€‚å¦‚æœä¸åˆæ—¶å®œåœ°æŠŠèŠ±é€ç»™Aï¼ŒèŠ± è¢«ç›´æ¥æ‰”æ‰çš„å¯èƒ½æ€§å¾ˆå¤§ï¼Œè¿™æŸèŠ±å¯æ˜¯å°æ˜åƒäº†7 å¤©æ³¡é¢æ¢æ¥çš„ã€‚ä½†æ˜¯A çš„æœ‹å‹B å´å¾ˆäº†è§£Aï¼Œæ‰€ä»¥å°æ˜åªç®¡æŠŠèŠ±äº¤ç»™Bï¼ŒB ä¼šç›‘å¬A çš„å¿ƒæƒ…å˜åŒ–ï¼Œç„¶åé€‰ æ‹©A å¿ƒæƒ…å¥½çš„æ—¶å€™æŠŠèŠ±è½¬äº¤ç»™Aï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> Flower = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> xiaoming = &#123;</span><br><span class="line">  sendFlower: <span class="function"><span class="keyword">function</span>(<span class="params">target</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> flower = <span class="keyword">new</span> Flower()</span><br><span class="line">    target.receiveFlower(flower)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> B = &#123;</span><br><span class="line">  receiveFlower: <span class="function"><span class="keyword">function</span>(<span class="params">flower</span>) </span>&#123;</span><br><span class="line">    A.listenGoodMood(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      A.receiveFlower(flower)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> A = &#123;</span><br><span class="line">  receiveFlower: <span class="function"><span class="keyword">function</span>(<span class="params">flower</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;æ”¶åˆ°èŠ±&#x27;</span>+ flower)</span><br><span class="line">  &#125;,</span><br><span class="line">  listenGoodMood: <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      fn()</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">xiaoming.sendFlower(B)</span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯</strong></p>
<ul>
<li>HTMLå…ƒ ç´ äº‹ä»¶ä»£ç†</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;ul id=<span class="string">&quot;ul&quot;</span>&gt;</span><br><span class="line">  &lt;li&gt;<span class="number">1</span>&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;<span class="number">2</span>&lt;/li&gt;</span><br><span class="line">  &lt;li&gt;<span class="number">3</span>&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#ul&#x27;</span>);</span><br><span class="line">  ul.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event.target);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>ES6 çš„ proxy é˜®ä¸€å³°Proxy</li>
<li>jQuery.proxy()æ–¹æ³•</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä»£ç†æ¨¡å¼èƒ½å°†ä»£ç†å¯¹è±¡ä¸è¢«è°ƒç”¨å¯¹è±¡åˆ†ç¦»ï¼Œé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ä»£ç†æ¨¡å¼åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸€ä¸ªä¸­ä»‹ä½œç”¨ï¼Œè¿™æ ·å¯ä»¥èµ·åˆ°ä¿æŠ¤ç›®æ ‡å¯¹è±¡çš„ä½œç”¨</li>
<li>ä»£ç†å¯¹è±¡å¯ä»¥æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼›é€šè¿‡ä¿®æ”¹ä»£ç†å¯¹è±¡å°±å¯ä»¥äº†ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼›</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å¤„ç†è¯·æ±‚é€Ÿåº¦å¯èƒ½æœ‰å·®åˆ«ï¼Œéç›´æ¥è®¿é—®å­˜åœ¨å¼€é”€</li>
</ul>
<p><code>3. å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰</code></p>
<p>å·¥å‚æ¨¡å¼å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£ç”±å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚è¯¥æ¨¡å¼ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°äº†å­ç±»ã€‚è€Œå­ç±»å¯ä»¥é‡å†™æ¥å£æ–¹æ³•ä»¥ä¾¿åˆ›å»ºçš„æ—¶å€™æŒ‡å®šè‡ªå·±çš„å¯¹è±¡ç±»å‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">init</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;init&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">fun</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;fun&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Factory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">create</span>(<span class="params">name</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Product(name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// use</span></span><br><span class="line"><span class="keyword">let</span> factory = <span class="keyword">new</span> Factory()</span><br><span class="line"><span class="keyword">let</span> p = factory.create(<span class="string">&#x27;p1&#x27;</span>)</span><br><span class="line">p.init()</span><br><span class="line">p.fun()</span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯</strong></p>
<ul>
<li>å¦‚æœä½ ä¸æƒ³è®©æŸä¸ªå­ç³»ç»Ÿä¸è¾ƒå¤§çš„é‚£ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆå¼ºè€¦åˆï¼Œè€Œæ˜¯æƒ³è¿è¡Œæ—¶ä»è®¸å¤šå­ç³»ç»Ÿä¸­è¿›è¡ŒæŒ‘é€‰çš„è¯ï¼Œé‚£ä¹ˆå·¥å‚æ¨¡å¼æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©</li>
<li>å°†newæ“ä½œç®€å•å°è£…ï¼Œé‡åˆ°newçš„æ—¶å€™å°±åº”è¯¥è€ƒè™‘æ˜¯å¦ç”¨å·¥å‚æ¨¡å¼ï¼›</li>
<li>éœ€è¦ä¾èµ–å…·ä½“ç¯å¢ƒåˆ›å»ºä¸åŒå®ä¾‹ï¼Œè¿™äº›å®ä¾‹éƒ½æœ‰ç›¸åŒçš„è¡Œä¸º,è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚æ¨¡å¼ï¼Œç®€åŒ–å®ç°çš„è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘æ¯ç§å¯¹è±¡æ‰€éœ€çš„ä»£ç é‡ï¼Œæœ‰åˆ©äºæ¶ˆé™¤å¯¹è±¡é—´çš„è€¦åˆï¼Œæä¾›æ›´å¤§çš„çµæ´»æ€§</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å¯èƒ½å¾ˆå¤æ‚ï¼Œä½†æˆ‘ä»¬åªéœ€è¦å…³å¿ƒåˆ›å»ºç»“æœã€‚</li>
<li>æ„é€ å‡½æ•°å’Œåˆ›å»ºè€…åˆ†ç¦», ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€</li>
<li>ä¸€ä¸ªè°ƒç”¨è€…æƒ³åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåªè¦çŸ¥é“å…¶åç§°å°±å¯ä»¥äº†ã€‚</li>
<li>æ‰©å±•æ€§é«˜ï¼Œå¦‚æœæƒ³å¢åŠ ä¸€ä¸ªäº§å“ï¼Œåªè¦æ‰©å±•ä¸€ä¸ªå·¥å‚ç±»å°±å¯ä»¥ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>æ·»åŠ æ–°äº§å“æ—¶ï¼Œéœ€è¦ç¼–å†™æ–°çš„å…·ä½“äº§å“ç±»,ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦</li>
<li>è€ƒè™‘åˆ°ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ï¼Œéœ€è¦å¼•å…¥æŠ½è±¡å±‚ï¼Œåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­å‡ä½¿ç”¨æŠ½è±¡å±‚è¿›è¡Œå®šä¹‰ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦</li>
</ul>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¸ç”¨</strong></p>
<ul>
<li>å½“è¢«åº”ç”¨åˆ°é”™è¯¯çš„é—®é¢˜ç±»å‹ä¸Šæ—¶,è¿™ä¸€æ¨¡å¼ä¼šç»™åº”ç”¨ç¨‹åºå¼•å…¥å¤§é‡ä¸å¿…è¦çš„å¤æ‚æ€§.é™¤éä¸ºåˆ›å»ºå¯¹è±¡æä¾›ä¸€ä¸ªæ¥å£æ˜¯æˆ‘ä»¬ç¼–å†™çš„åº“æˆ–è€…æ¡†æ¶çš„ä¸€ä¸ªè®¾è®¡ä¸Šç›®æ ‡,å¦åˆ™æˆ‘ä¼šå»ºè®®ä½¿ç”¨æ˜ç¡®çš„æ„é€ å™¨,ä»¥é¿å…ä¸å¿…è¦çš„å¼€é”€ã€‚</li>
<li>ç”±äºå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹è¢«é«˜æ•ˆçš„æŠ½è±¡åœ¨ä¸€ä¸ªæ¥å£åé¢çš„äº‹å®,è¿™ä¹Ÿä¼šç»™ä¾èµ–äºè¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šæœ‰å¤šå¤æ‚çš„å•å…ƒæµ‹è¯•å¸¦æ¥é—®é¢˜ã€‚</li>
</ul>
<p><code>4. å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰</code></p>
<p>é¡¾åæ€ä¹‰ï¼Œå•ä¾‹æ¨¡å¼ä¸­Classçš„å®ä¾‹ä¸ªæ•°æœ€å¤šä¸º1ã€‚å½“éœ€è¦ä¸€ä¸ªå¯¹è±¡å»è´¯ç©¿æ•´ä¸ªç³»ç»Ÿæ‰§è¡ŒæŸäº›ä»»åŠ¡æ—¶ï¼Œå•ä¾‹æ¨¡å¼å°±æ´¾ä¸Šäº†ç”¨åœºã€‚è€Œé™¤æ­¤ä¹‹å¤–çš„åœºæ™¯å°½é‡é¿å…å•ä¾‹æ¨¡å¼çš„ä½¿ç”¨ï¼Œå› ä¸ºå•ä¾‹æ¨¡å¼ä¼šå¼•å…¥å…¨å±€çŠ¶æ€ï¼Œè€Œä¸€ä¸ªå¥åº·çš„ç³»ç»Ÿåº”è¯¥é¿å…å¼•å…¥è¿‡å¤šçš„å…¨å±€çŠ¶æ€ã€‚</p>
<p>å®ç°å•ä¾‹æ¨¡å¼éœ€è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><p>å¦‚ä½•ç¡®å®šClassåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Ÿ</p>
</li>
<li><p>å¦‚ä½•ç®€ä¾¿çš„è®¿é—®Classçš„å”¯ä¸€å®ä¾‹ï¼Ÿ</p>
</li>
<li><p>Classå¦‚ä½•æ§åˆ¶å®ä¾‹åŒ–çš„è¿‡ç¨‹ï¼Ÿ</p>
</li>
<li><p>å¦‚ä½•å°†Classçš„å®ä¾‹ä¸ªæ•°é™åˆ¶ä¸º1ï¼Ÿ</p>
</li>
</ul>
<p>æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡å®ç°ä»¥ä¸‹ä¸¤ç‚¹æ¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼š</p>
<ul>
<li><p>éšè—Classçš„æ„é€ å‡½æ•°ï¼Œé¿å…å¤šæ¬¡å®ä¾‹åŒ–</p>
</li>
<li><p>é€šè¿‡æš´éœ²ä¸€ä¸ª getInstance() æ–¹æ³•æ¥åˆ›å»º/è·å–å”¯ä¸€å®ä¾‹</p>
</li>
</ul>
<p>Javascriptä¸­å•ä¾‹æ¨¡å¼å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å•ä¾‹æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">const</span> FooServiceSingleton = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// éšè—çš„Classçš„æ„é€ å‡½æ•°</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">FooService</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœªåˆå§‹åŒ–çš„å•ä¾‹å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> fooService;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»º/è·å–å•ä¾‹å¯¹è±¡çš„å‡½æ•°</span></span><br><span class="line">    getInstance: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!fooService) &#123;</span><br><span class="line">        fooService = <span class="keyword">new</span> FooService();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> fooService;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>å®ç°çš„å…³é”®ç‚¹æœ‰ï¼š</p>
<ol>
<li>ä½¿ç”¨ IIFEåˆ›å»ºå±€éƒ¨ä½œç”¨åŸŸå¹¶å³æ—¶æ‰§è¡Œï¼›</li>
<li><code>getInstance()</code> ä¸ºä¸€ä¸ª é—­åŒ… ï¼Œä½¿ç”¨é—­åŒ…ä¿å­˜å±€éƒ¨ä½œç”¨åŸŸä¸­çš„å•ä¾‹å¯¹è±¡å¹¶è¿”å›ã€‚</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥éªŒè¯ä¸‹å•ä¾‹å¯¹è±¡æ˜¯å¦åˆ›å»ºæˆåŠŸï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fooService1 = FooServiceSingleton.getInstance();</span><br><span class="line"><span class="keyword">const</span> fooService2 = FooServiceSingleton.getInstance();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fooService1 === fooService2); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯ä¾‹å­</strong></p>
<ul>
<li>å®šä¹‰å‘½åç©ºé—´å’Œå®ç°åˆ†æ”¯å‹æ–¹æ³•</li>
<li>ç™»å½•æ¡†</li>
<li>vuex å’Œ reduxä¸­çš„store</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>åˆ’åˆ†å‘½åç©ºé—´ï¼Œå‡å°‘å…¨å±€å˜é‡</li>
<li>å¢å¼ºæ¨¡å—æ€§ï¼ŒæŠŠè‡ªå·±çš„ä»£ç ç»„ç»‡åœ¨ä¸€ä¸ªå…¨å±€å˜é‡åä¸‹ï¼Œæ”¾åœ¨å•ä¸€ä½ç½®ï¼Œä¾¿äºç»´æŠ¤</li>
<li>ä¸”åªä¼šå®ä¾‹åŒ–ä¸€æ¬¡ã€‚ç®€åŒ–äº†ä»£ç çš„è°ƒè¯•å’Œç»´æŠ¤</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ç”±äºå•ä¾‹æ¨¡å¼æä¾›çš„æ˜¯ä¸€ç§å•ç‚¹è®¿é—®ï¼Œæ‰€ä»¥å®ƒæœ‰å¯èƒ½å¯¼è‡´æ¨¡å—é—´çš„å¼ºè€¦åˆ</li>
<li>ä»è€Œä¸åˆ©äºå•å…ƒæµ‹è¯•ã€‚æ— æ³•å•ç‹¬æµ‹è¯•ä¸€ä¸ªè°ƒç”¨äº†æ¥è‡ªå•ä¾‹çš„æ–¹æ³•çš„ç±»ï¼Œè€Œåªèƒ½æŠŠå®ƒä¸é‚£ä¸ªå•ä¾‹ä½œä¸ºä¸€</li>
<li>ä¸ªå•å…ƒä¸€èµ·æµ‹è¯•ã€‚</li>
</ul>
<p><code>5. ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</code></p>
<p>ç­–ç•¥æ¨¡å¼ç®€å•æè¿°å°±æ˜¯ï¼šå¯¹è±¡æœ‰æŸä¸ªè¡Œä¸ºï¼Œä½†æ˜¯åœ¨ä¸åŒçš„åœºæ™¯ä¸­ï¼Œè¯¥è¡Œä¸ºæœ‰ä¸åŒçš„å®ç°ç®—æ³•ã€‚æŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥äº’ç›¸æ›¿æ¢</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;ç­–ç•¥æ¨¡å¼-æ ¡éªŒè¡¨å•&lt;/title&gt;</span><br><span class="line">    &lt;meta content=<span class="string">&quot;text/html; charset=utf-8&quot;</span> http-equiv=<span class="string">&quot;Content-Type&quot;</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form id = <span class="string">&quot;registerForm&quot;</span> method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;http://xxxx.com/api/register&quot;</span>&gt;</span><br><span class="line">        ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;userName&quot;</span>&gt;</span><br><span class="line">        å¯†ç ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;</span><br><span class="line">        æ‰‹æœºå·ç ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;phoneNumber&quot;</span>&gt;</span><br><span class="line">        &lt;button type=<span class="string">&quot;submit&quot;</span>&gt;æäº¤&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">    &lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">        <span class="comment">// ç­–ç•¥å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">const</span> strategies = &#123;</span><br><span class="line">          isNoEmpty: <span class="function"><span class="keyword">function</span> (<span class="params">value, errorMsg</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (value === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> errorMsg;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          isNoSpace: <span class="function"><span class="keyword">function</span> (<span class="params">value, errorMsg</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (value.trim() === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> errorMsg;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          minLength: <span class="function"><span class="keyword">function</span> (<span class="params">value, length, errorMsg</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (value.trim().length &lt; length) &#123;</span><br><span class="line">              <span class="keyword">return</span> errorMsg;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          maxLength: <span class="function"><span class="keyword">function</span> (<span class="params">value, length, errorMsg</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (value.length &gt; length) &#123;</span><br><span class="line">              <span class="keyword">return</span> errorMsg;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          isMobile: <span class="function"><span class="keyword">function</span> (<span class="params">value, errorMsg</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="regexp">/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|17[7]|18[0|1|2|3|5|6|7|8|9])\d&#123;8&#125;$/</span>.test(value)) &#123;</span><br><span class="line">              <span class="keyword">return</span> errorMsg;</span><br><span class="line">            &#125;                </span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éªŒè¯ç±»</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Validator</span> </span>&#123;</span><br><span class="line">          <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.cache = []</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="function"><span class="title">add</span>(<span class="params">dom, rules</span>)</span> &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>, rule; rule = rules[i++];) &#123;</span><br><span class="line">              <span class="keyword">let</span> strategyAry = rule.strategy.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">              <span class="keyword">let</span> errorMsg = rule.errorMsg</span><br><span class="line">              <span class="built_in">this</span>.cache.push(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">let</span> strategy = strategyAry.shift()</span><br><span class="line">                strategyAry.unshift(dom.value)</span><br><span class="line">                strategyAry.push(errorMsg)</span><br><span class="line">                <span class="keyword">return</span> strategies[strategy].apply(dom, strategyAry)</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="function"><span class="title">start</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>, validatorFunc; validatorFunc = <span class="built_in">this</span>.cache[i++];) &#123;</span><br><span class="line">              <span class="keyword">let</span> errorMsg = validatorFunc()</span><br><span class="line">              <span class="keyword">if</span> (errorMsg) &#123;</span><br><span class="line">                <span class="keyword">return</span> errorMsg</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä»£ç </span></span><br><span class="line">        <span class="keyword">let</span> registerForm = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;registerForm&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> validataFunc = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">let</span> validator = <span class="keyword">new</span> Validator()</span><br><span class="line">          validator.add(registerForm.userName, [&#123;</span><br><span class="line">            strategy: <span class="string">&#x27;isNoEmpty&#x27;</span>,</span><br><span class="line">            errorMsg: <span class="string">&#x27;ç”¨æˆ·åä¸å¯ä¸ºç©º&#x27;</span></span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            strategy: <span class="string">&#x27;isNoSpace&#x27;</span>,</span><br><span class="line">            errorMsg: <span class="string">&#x27;ä¸å…è®¸ä»¥ç©ºç™½å­—ç¬¦å‘½å&#x27;</span></span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            strategy: <span class="string">&#x27;minLength:2&#x27;</span>,</span><br><span class="line">            errorMsg: <span class="string">&#x27;ç”¨æˆ·åé•¿åº¦ä¸èƒ½å°äº2ä½&#x27;</span></span><br><span class="line">          &#125;])</span><br><span class="line">          validator.add(registerForm.password, [ &#123;</span><br><span class="line">            strategy: <span class="string">&#x27;minLength:6&#x27;</span>,</span><br><span class="line">            errorMsg: <span class="string">&#x27;å¯†ç é•¿åº¦ä¸èƒ½å°äº6ä½&#x27;</span></span><br><span class="line">          &#125;])</span><br><span class="line">          validator.add(registerForm.phoneNumber, [&#123;</span><br><span class="line">            strategy: <span class="string">&#x27;isMobile&#x27;</span>,</span><br><span class="line">            errorMsg: <span class="string">&#x27;è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç æ ¼å¼&#x27;</span></span><br><span class="line">          &#125;])</span><br><span class="line">          <span class="keyword">return</span> validator.start()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        registerForm.onsubmit = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">let</span> errorMsg = validataFunc()</span><br><span class="line">          <span class="keyword">if</span> (errorMsg) &#123;</span><br><span class="line">            alert(errorMsg)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯ä¾‹å­</strong></p>
<ul>
<li>å¦‚æœåœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œé¢æœ‰è®¸å¤šç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå®ƒä»¬çš„â€™è¡Œä¸ºâ€™ï¼Œé‚£ä¹ˆä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥åŠ¨æ€åœ°è®©ä¸€ä¸ªå¯¹è±¡åœ¨è®¸å¤šè¡Œä¸ºä¸­é€‰æ‹©ä¸€ç§è¡Œä¸ºã€‚</li>
<li>ä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ã€‚</li>
<li>è¡¨å•éªŒè¯</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>åˆ©ç”¨ç»„åˆã€å§”æ‰˜ã€å¤šæ€ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œå¯ä»¥æœ‰æ•ˆçš„é¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥</li>
<li>æä¾›äº†å¯¹å¼€æ”¾-å°é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„strategyä¸­ï¼Œä½¿å¾—å®ƒä»¬æ˜“äºåˆ‡æ¢ï¼Œç†è§£ï¼Œæ˜“äºæ‰©å±•</li>
<li>åˆ©ç”¨ç»„åˆå’Œå§”æ‰˜æ¥è®©Contextæ‹¥æœ‰æ‰§è¡Œç®—æ³•çš„èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ç»§æ‰¿çš„ä¸€ç§æ›´è½»ä¾¿çš„ä»£æ›¿æ–¹æ¡ˆ</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä¼šåœ¨ç¨‹åºä¸­å¢åŠ è®¸å¤šç­–ç•¥ç±»æˆ–è€…ç­–ç•¥å¯¹è±¡</li>
<li>è¦ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œå¿…é¡»äº†è§£æ‰€æœ‰çš„strategyï¼Œå¿…é¡»äº†è§£å„ä¸ªstrategyä¹‹é—´çš„ä¸åŒç‚¹ï¼Œè¿™æ ·æ‰èƒ½é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„strategy</li>
</ul>
<p><code>6. è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</code></p>
<p>è¿­ä»£å™¨æ¨¡å¼ç®€å•çš„è¯´å°±æ˜¯æä¾›ä¸€ç§æ–¹æ³•é¡ºåºä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p>
<p>è¿­ä»£å™¨æ¨¡å¼è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li><p>æä¾›ä¸€è‡´çš„éå†å„ç§æ•°æ®ç»“æ„çš„æ–¹å¼ï¼Œè€Œä¸ç”¨äº†è§£æ•°æ®çš„å†…éƒ¨ç»“æ„</p>
</li>
<li><p>æä¾›éå†å®¹å™¨ï¼ˆé›†åˆï¼‰çš„èƒ½åŠ›è€Œæ— éœ€æ”¹å˜å®¹å™¨çš„æ¥å£</p>
</li>
</ul>
<p>ä¸€ä¸ªè¿­ä»£å™¨é€šå¸¸éœ€è¦å®ç°ä»¥ä¸‹æ¥å£ï¼š</p>
<ul>
<li><p>hasNext()ï¼šåˆ¤æ–­è¿­ä»£æ˜¯å¦ç»“æŸï¼Œè¿”å›Boolean</p>
</li>
<li><p>next()ï¼šæŸ¥æ‰¾å¹¶è¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ </p>
</li>
</ul>
<p>ä¸ºJavascriptçš„æ•°ç»„å®ç°ä¸€ä¸ªè¿­ä»£å™¨å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> item = [<span class="number">1</span>, <span class="string">&#x27;red&#x27;</span>, <span class="literal">false</span>, <span class="number">3.14</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Iterator</span>(<span class="params">items</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.items = items;</span><br><span class="line">  <span class="built_in">this</span>.index = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Iterator.prototype = &#123;</span><br><span class="line">  hasNext: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.index &lt; <span class="built_in">this</span>.items.length;</span><br><span class="line">  &#125;,</span><br><span class="line">  next: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.items[<span class="built_in">this</span>.index++];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ä¸€ä¸‹è¿­ä»£å™¨æ˜¯å¦å·¥ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> iterator = <span class="keyword">new</span> Iterator(item);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(iterator.next());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š1, red, false, 3.14</span></span><br></pre></td></tr></table></figure>

<p>ES6æä¾›äº†æ›´ç®€å•çš„è¿­ä»£å¾ªç¯è¯­æ³• forâ€¦ofï¼Œä½¿ç”¨è¯¥è¯­æ³•çš„å‰ææ˜¯æ“ä½œå¯¹è±¡éœ€è¦å®ç° å¯è¿­ä»£åè®®ï¼ˆThe iterable protocolï¼‰ï¼Œç®€å•è¯´å°±æ˜¯è¯¥å¯¹è±¡æœ‰ä¸ªKeyä¸º Symbol.iterator çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªiteratorå¯¹è±¡ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬å®ç°ä¸€ä¸ª Range ç±»ç”¨äºåœ¨æŸä¸ªæ•°å­—åŒºé—´è¿›è¡Œè¿­ä»£ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Range</span>(<span class="params">start, end</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="function"><span class="title">next</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (start &lt; end) &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123; <span class="attr">value</span>: start++, done: <span class="literal">false</span> &#125;;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span>, <span class="attr">value</span>: end &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (num <span class="keyword">of</span> Range(<span class="number">1</span>, <span class="number">5</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š1, 2, 3, 4</span></span><br></pre></td></tr></table></figure>

<p><code>7. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</code></p>
<p><strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>åˆç§°<strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</strong>ï¼ˆPublish/Subscribe Patternï¼‰ï¼Œæ˜¯æˆ‘ä»¬ç»å¸¸æ¥è§¦åˆ°çš„è®¾è®¡æ¨¡å¼ï¼Œæ—¥å¸¸ç”Ÿæ´»ä¸­çš„åº”ç”¨ä¹Ÿæ¯”æ¯”çš†æ˜¯ï¼Œæ¯”å¦‚ä½ è®¢é˜…äº†æŸä¸ªåšä¸»çš„é¢‘é“ï¼Œå½“æœ‰å†…å®¹æ›´æ–°æ—¶ä¼šæ”¶åˆ°æ¨é€ï¼›åˆæ¯”å¦‚JavaScriptä¸­çš„äº‹ä»¶è®¢é˜…å“åº”æœºåˆ¶ã€‚è§‚å¯Ÿè€…æ¨¡å¼çš„æ€æƒ³ç”¨ä¸€å¥è¯æè¿°å°±æ˜¯ï¼š<strong>è¢«è§‚å¯Ÿå¯¹è±¡ï¼ˆsubjectï¼‰ç»´æŠ¤ä¸€ç»„è§‚å¯Ÿè€…ï¼ˆobserverï¼‰ï¼Œå½“è¢«è§‚å¯Ÿå¯¹è±¡çŠ¶æ€æ”¹å˜æ—¶ï¼Œé€šè¿‡è°ƒç”¨è§‚å¯Ÿè€…çš„æŸä¸ªæ–¹æ³•å°†è¿™äº›å˜åŒ–é€šçŸ¥åˆ°è§‚å¯Ÿè€…</strong>ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼ä¸­Subjectå¯¹è±¡ä¸€èˆ¬éœ€è¦å®ç°ä»¥ä¸‹APIï¼š</p>
<ul>
<li><p>subscribe(): æ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…observerå¯¹è±¡ï¼Œä½¿å…¶è®¢é˜…è‡ªå·±</p>
</li>
<li><p>unsubscribe(): æ¥æ”¶ä¸€ä¸ªè§‚å¯Ÿè€…observerå¯¹è±¡ï¼Œä½¿å…¶å–æ¶ˆè®¢é˜…è‡ªå·±</p>
</li>
<li><p>fire(): è§¦å‘äº‹ä»¶ï¼Œé€šçŸ¥åˆ°æ‰€æœ‰è§‚å¯Ÿè€…</p>
</li>
</ul>
<p>ç”¨JavaScriptæ‰‹åŠ¨å®ç°è§‚å¯Ÿè€…æ¨¡å¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¢«è§‚å¯Ÿè€…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Subject</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.observers = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Subject.prototype = &#123;</span><br><span class="line">  <span class="comment">// è®¢é˜…</span></span><br><span class="line">  subscribe: <span class="function"><span class="keyword">function</span> (<span class="params">observer</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.observers.push(observer);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å–æ¶ˆè®¢é˜…</span></span><br><span class="line">  unsubscribe: <span class="function"><span class="keyword">function</span> (<span class="params">observerToRemove</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.observers = <span class="built_in">this</span>.observers.filter(<span class="function"><span class="params">observer</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> observer !== observerToRemove;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// äº‹ä»¶è§¦å‘</span></span><br><span class="line">  fire: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.observers.forEach(<span class="function"><span class="params">observer</span> =&gt;</span> &#123;</span><br><span class="line">      observer.call();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ä¸€ä¸‹è®¢é˜…æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> subject = <span class="keyword">new</span> Subject();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observer1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Observer 1 Firing!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">observer2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Observer 2 Firing!&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">subject.subscribe(observer1);</span><br><span class="line">subject.subscribe(observer2);</span><br><span class="line">subject.fire();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š</span></span><br><span class="line">Observer <span class="number">1</span> Firing! </span><br><span class="line">Observer <span class="number">2</span> Firing!</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ä¸€ä¸‹å–æ¶ˆè®¢é˜…æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">subject.unsubscribe(observer2);</span><br><span class="line">subject.fire();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼š</span></span><br><span class="line">Observer <span class="number">1</span> Firing!</span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯</strong></p>
<ul>
<li>DOMäº‹ä»¶</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.body.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hello world!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.body.click()</span><br></pre></td></tr></table></figure>

<ul>
<li>vue å“åº”å¼</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>æ”¯æŒç®€å•çš„å¹¿æ’­é€šä¿¡ï¼Œè‡ªåŠ¨é€šçŸ¥æ‰€æœ‰å·²ç»è®¢é˜…è¿‡çš„å¯¹è±¡</li>
<li>ç›®æ ‡å¯¹è±¡ä¸è§‚å¯Ÿè€…ä¹‹é—´çš„æŠ½è±¡è€¦åˆå…³ç³»èƒ½å•ç‹¬æ‰©å±•ä»¥åŠé‡ç”¨</li>
<li>å¢åŠ äº†çµæ´»æ€§</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼æ‰€åšçš„å·¥ä½œå°±æ˜¯åœ¨è§£è€¦ï¼Œè®©è€¦åˆçš„åŒæ–¹éƒ½ä¾èµ–äºæŠ½è±¡ï¼Œè€Œä¸æ˜¯ä¾èµ–äºå…·ä½“ã€‚ä»è€Œä½¿å¾—å„è‡ªçš„å˜åŒ–éƒ½ä¸ä¼šå½±å“åˆ°å¦ä¸€è¾¹çš„å˜åŒ–ã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>è¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„è”ç³»å¼±åŒ–ï¼Œä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£</li>
</ul>
<p><code>8. ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</code></p>
<p>åœ¨ä¸­ä»‹è€…æ¨¡å¼ä¸­ï¼Œä¸­ä»‹è€…ï¼ˆMediatorï¼‰åŒ…è£…äº†ä¸€ç³»åˆ—å¯¹è±¡ç›¸äº’ä½œç”¨çš„æ–¹å¼ï¼Œä½¿å¾—è¿™äº›å¯¹è±¡ä¸å¿…ç›´æ¥ç›¸äº’ä½œç”¨ï¼Œè€Œæ˜¯ç”±ä¸­ä»‹è€…åè°ƒå®ƒä»¬ä¹‹é—´çš„äº¤äº’ï¼Œä»è€Œä½¿å®ƒä»¬å¯ä»¥æ¾æ•£å¶åˆã€‚å½“æŸäº›å¯¹è±¡ä¹‹é—´çš„ä½œç”¨å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¸ä¼šç«‹å³å½±å“å…¶ä»–çš„ä¸€äº›å¯¹è±¡ä¹‹é—´çš„ä½œç”¨ï¼Œä¿è¯è¿™äº›ä½œç”¨å¯ä»¥å½¼æ­¤ç‹¬ç«‹çš„å˜åŒ–ã€‚</p>
<p>ä¸­ä»‹è€…æ¨¡å¼å’Œè§‚å¯Ÿè€…æ¨¡å¼æœ‰ä¸€å®šçš„ç›¸ä¼¼æ€§ï¼Œéƒ½æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œä¹Ÿéƒ½æ˜¯é›†ä¸­å¼é€šä¿¡ï¼Œä¸åŒçš„æ˜¯ä¸­ä»‹è€…æ¨¡å¼æ˜¯å¤„ç†åŒçº§å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œè€Œè§‚å¯Ÿè€…æ¨¡å¼æ˜¯å¤„ç†Observerå’ŒSubjectä¹‹é—´çš„äº¤äº’ã€‚ä¸­ä»‹è€…æ¨¡å¼æœ‰äº›åƒå©šæ‹ä¸­ä»‹ï¼Œç›¸äº²å¯¹è±¡åˆšå¼€å§‹å¹¶ä¸èƒ½ç›´æ¥äº¤æµï¼Œè€Œæ˜¯è¦é€šè¿‡ä¸­ä»‹å»ç­›é€‰åŒ¹é…å†å†³å®šè°å’Œè°è§é¢ã€‚</p>
<p><strong>åœºæ™¯</strong></p>
<ul>
<li>ä¾‹å¦‚è´­ç‰©è½¦éœ€æ±‚ï¼Œå­˜åœ¨å•†å“é€‰æ‹©è¡¨å•ã€é¢œè‰²é€‰æ‹©è¡¨å•ã€è´­ä¹°æ•°é‡è¡¨å•ç­‰ç­‰ï¼Œéƒ½ä¼šè§¦å‘changeäº‹ä»¶ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ä¸­ä»‹è€…æ¥è½¬å‘å¤„ç†è¿™äº›äº‹ä»¶ï¼Œå®ç°å„ä¸ªäº‹ä»¶é—´çš„è§£è€¦ï¼Œä»…ä»…ç»´æŠ¤ä¸­ä»‹è€…å¯¹è±¡å³å¯ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> goods = &#123;   <span class="comment">//æ‰‹æœºåº“å­˜</span></span><br><span class="line">    <span class="string">&#x27;red|32G&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="string">&#x27;red|64G&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;blue|32G&#x27;</span>: <span class="number">7</span>,</span><br><span class="line">    <span class="string">&#x27;blue|32G&#x27;</span>: <span class="number">6</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//ä¸­ä»‹è€…</span></span><br><span class="line"><span class="keyword">var</span> mediator = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> colorSelect = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;colorSelect&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> memorySelect = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;memorySelect&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> numSelect = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;numSelect&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        changed: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">switch</span>(obj)&#123;</span><br><span class="line">                <span class="keyword">case</span> colorSelect:</span><br><span class="line">                    <span class="comment">//TODO</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> memorySelect:</span><br><span class="line">                    <span class="comment">//TODO</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> numSelect:</span><br><span class="line">                    <span class="comment">//TODO</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">colorSelect.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    mediator.changed(<span class="built_in">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line">memorySelect.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    mediator.changed(<span class="built_in">this</span>);</span><br><span class="line">&#125;;</span><br><span class="line">numSelect.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    mediator.changed(<span class="built_in">this</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>èŠå¤©å®¤é‡Œ</li>
</ul>
<p>èŠå¤©å®¤æˆå‘˜ç±»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Member</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.chatroom = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Member.prototype = &#123;</span><br><span class="line">  <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">  send: <span class="function"><span class="keyword">function</span> (<span class="params">message, toMember</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.chatroom.send(message, <span class="built_in">this</span>, toMember);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ¥æ”¶æ¶ˆæ¯</span></span><br><span class="line">  receive: <span class="function"><span class="keyword">function</span> (<span class="params">message, fromMember</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;fromMember.name&#125;</span> to <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>: <span class="subst">$&#123;message&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>èŠå¤©å®¤ç±»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Chatroom</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.members = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Chatroom.prototype = &#123;</span><br><span class="line">  <span class="comment">// å¢åŠ æˆå‘˜</span></span><br><span class="line">  addMember: <span class="function"><span class="keyword">function</span> (<span class="params">member</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.members[member.name] = member;</span><br><span class="line">    member.chatroom = <span class="built_in">this</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">  send: <span class="function"><span class="keyword">function</span> (<span class="params">message, fromMember, toMember</span>) </span>&#123;</span><br><span class="line">    toMember.receive(message, fromMember);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> chatroom = <span class="keyword">new</span> Chatroom();</span><br><span class="line"><span class="keyword">const</span> bruce = <span class="keyword">new</span> Member(<span class="string">&#x27;bruce&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> frank = <span class="keyword">new</span> Member(<span class="string">&#x27;frank&#x27;</span>);</span><br><span class="line"></span><br><span class="line">chatroom.addMember(bruce);</span><br><span class="line">chatroom.addMember(frank);</span><br><span class="line"></span><br><span class="line">bruce.send(<span class="string">&#x27;Hey frank&#x27;</span>, frank);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¾“å‡ºï¼šbruce to frank: hello frank</span></span><br></pre></td></tr></table></figure>

<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ä½¿å„å¯¹è±¡ä¹‹é—´è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’</li>
<li>ä¸­ä»‹è€…å’Œå¯¹è±¡ä¸€å¯¹å¤šçš„å…³ç³»å–ä»£äº†å¯¹è±¡ä¹‹é—´çš„ç½‘çŠ¶å¤šå¯¹å¤šçš„å…³ç³»</li>
<li>å¦‚æœå¯¹è±¡ä¹‹é—´çš„å¤æ‚è€¦åˆåº¦å¯¼è‡´ç»´æŠ¤å¾ˆå›°éš¾ï¼Œè€Œä¸”è€¦åˆåº¦éšé¡¹ç›®å˜åŒ–å¢é€Ÿå¾ˆå¿«ï¼Œå°±éœ€è¦ä¸­ä»‹è€…é‡æ„ä»£ç </li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ç³»ç»Ÿä¸­ä¼šæ–°å¢ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œå› ä¸ºå¯¹è±¡ä¹‹é—´äº¤äº’çš„å¤æ‚æ€§ï¼Œè½¬ç§»æˆäº†ä¸­ä»‹è€…å¯¹è±¡çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä¸­ä»‹è€…å¯¹è±¡ç»å¸¸æ˜¯å·¨å¤§çš„ã€‚ä¸­ä»‹ è€…å¯¹è±¡è‡ªèº«å¾€å¾€å°±æ˜¯ä¸€ä¸ªéš¾ä»¥ç»´æŠ¤çš„å¯¹è±¡ã€‚</li>
</ul>
<p><code>9. è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</code></p>
<p><strong>è®¿é—®è€…æ¨¡å¼</strong> æ˜¯ä¸€ç§å°†ç®—æ³•ä¸å¯¹è±¡ç»“æ„åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼ï¼Œé€šä¿—ç‚¹è®²å°±æ˜¯ï¼šè®¿é—®è€…æ¨¡å¼è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ä¸æ”¹å˜ä¸€ä¸ªå¯¹è±¡ç»“æ„çš„å‰æä¸‹èƒ½å¤Ÿç»™è¯¥å¯¹è±¡å¢åŠ æ–°çš„é€»è¾‘ï¼Œæ–°å¢çš„é€»è¾‘ä¿å­˜åœ¨ä¸€ä¸ªç‹¬ç«‹çš„è®¿é—®è€…å¯¹è±¡ä¸­ã€‚è®¿é—®è€…æ¨¡å¼å¸¸ç”¨äºæ‹“å±•ä¸€äº›ç¬¬ä¸‰æ–¹çš„åº“å’Œå·¥å…·ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¿é—®è€…  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;&#125;</span><br><span class="line">    <span class="function"><span class="title">visitConcreteElement</span>(<span class="params">ConcreteElement</span>)</span> &#123;</span><br><span class="line">        ConcreteElement.operation()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…ƒç´ ç±»  </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteElement</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">operation</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">&quot;ConcreteElement.operation invoked&quot;</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">accept</span>(<span class="params">visitor</span>)</span> &#123;</span><br><span class="line">        visitor.visitConcreteElement(<span class="built_in">this</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// client</span></span><br><span class="line"><span class="keyword">let</span> visitor = <span class="keyword">new</span> Visitor()</span><br><span class="line"><span class="keyword">let</span> element = <span class="keyword">new</span> ConcreteElement()</span><br><span class="line">elementA.accept(visitor)</span><br></pre></td></tr></table></figure>

<p>è®¿é—®è€…æ¨¡å¼çš„å®ç°æœ‰ä»¥ä¸‹å‡ ä¸ªè¦ç´ ï¼š</p>
<ul>
<li><p>Visitor Objectï¼šè®¿é—®è€…å¯¹è±¡ï¼Œæ‹¥æœ‰ä¸€ä¸ª<code>visit()</code>æ–¹æ³•</p>
</li>
<li><p>Receiving Objectï¼šæ¥æ”¶å¯¹è±¡ï¼Œæ‹¥æœ‰ä¸€ä¸ª <code>accept()</code> æ–¹æ³•</p>
</li>
<li><p>visit(receivingObj)ï¼šç”¨äºVisitoræ¥æ”¶ä¸€ä¸ª<code>Receiving Object</code></p>
</li>
<li><p>accept(visitor)ï¼šç”¨äº<code>Receving Object</code>æ¥æ”¶ä¸€ä¸ªVisitorï¼Œå¹¶é€šè¿‡è°ƒç”¨<code>Visitor</code>çš„ <code>visit()</code> ä¸ºå…¶æä¾›è·å–<code>Receiving Object</code>æ•°æ®çš„èƒ½åŠ›</p>
</li>
</ul>
<p>ç®€å•çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Receiving <span class="built_in">Object</span>ï¼š</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Employee</span>(<span class="params">name, salary</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name = name;</span><br><span class="line">  <span class="built_in">this</span>.salary = salary;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Employee.prototype = &#123;</span><br><span class="line">  getSalary: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.salary;</span><br><span class="line">  &#125;,</span><br><span class="line">  setSalary: <span class="function"><span class="keyword">function</span> (<span class="params">salary</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.salary = salary;</span><br><span class="line">  &#125;,</span><br><span class="line">  accept: <span class="function"><span class="keyword">function</span> (<span class="params">visitor</span>) </span>&#123;</span><br><span class="line">    visitor.visit(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Visitor <span class="built_in">Object</span>ï¼š</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Visitor</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">Visitor.prototype = &#123;</span><br><span class="line">  visit: <span class="function"><span class="keyword">function</span> (<span class="params">employee</span>) </span>&#123;</span><br><span class="line">    employee.setSalary(employee.getSalary() * <span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> employee = <span class="keyword">new</span> Employee(<span class="string">&#x27;bruce&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">const</span> visitor = <span class="keyword">new</span> Visitor();</span><br><span class="line">employee.accept(visitor);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(employee.getSalary());<span class="comment">//è¾“å‡ºï¼š2000</span></span><br></pre></td></tr></table></figure>

<p><strong>åœºæ™¯</strong></p>
<ul>
<li>å¯¹è±¡ç»“æ„ä¸­å¯¹è±¡å¯¹åº”çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤å¯¹è±¡ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œ</li>
<li>éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œéœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€æ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä¹Ÿä¸å¸Œæœ›åœ¨å¢åŠ æ–°æ“ä½œæ—¶ä¿®æ”¹è¿™äº›ç±»ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™</li>
<li>ä¼˜ç§€çš„æ‰©å±•æ€§</li>
<li>çµæ´»æ€§</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>å…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œè¿åäº†è¿ªç±³ç‰¹åŸåˆ™</li>
<li>è¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œä¾èµ–äº†å…·ä½“ç±»ï¼Œæ²¡æœ‰ä¾èµ–æŠ½è±¡ã€‚</li>
<li>å…·ä½“å…ƒç´ å˜æ›´æ¯”è¾ƒå›°éš¾</li>
</ul>
<h4 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h4><p><a href="https://vue3js.cn/interview/">Webå‰ç«¯é¢è¯• - é¢è¯•å®˜ç³»åˆ—</a><br><a href="https://vue-js.com/learn-vue/start/#_1-%E5%89%8D%E8%A8%80">Vue@V.2.6.11 æºç è§£æ</a><br><a href="https://vue3js.cn/start/">Vue3 æºç è§£æ</a></p>
<blockquote>
<p>å‚è€ƒèµ„æ–™ï¼š <a href="https://mp.weixin.qq.com/s/P9sQ4t80T97krFqAsx4F0A">ã€Š66æ¡ææ€–å¦‚æ–¯çš„ 4W å­— JavaScript é¢è¯•çŸ¥è¯†ç‚¹ã€‹</a></p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å‰ç«¯</tag>
        <tag>Vue</tag>
        <tag>HTML</tag>
        <tag>css</tag>
        <tag>Javascript</tag>
      </tags>
  </entry>
</search>
